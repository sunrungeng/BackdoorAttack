current path: saved_models/model_mnist_Feb.08_11.44.48
Loading data
build_classes_dict done
train loaders done
get poison test loader
load data done
Loaded parameters from saved model: LR is 0.1 and current epoch is 11
create model done
Poisoned following participants: [41, 73, 51, 74]
We use following environment for graphs:  mnist_DBA
Server Epoch:11 choose agents : [41, 73, 51, 74, 23, 76, 63, 11, 75, 43].
poison local model 41 index 0 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  11, local model 41, internal_epoch   1,  Average loss: 0.0251, Accuracy: 337/606 (55.6106%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 41, internal_epoch   2,  Average loss: 0.0158, Accuracy: 348/606 (57.4257%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 41, internal_epoch   3,  Average loss: 0.0129, Accuracy: 395/606 (65.1815%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 41, internal_epoch   4,  Average loss: 0.0122, Accuracy: 390/606 (64.3564%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 41, internal_epoch   5,  Average loss: 0.0118, Accuracy: 406/606 (66.9967%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 41, internal_epoch   6,  Average loss: 0.0118, Accuracy: 393/606 (64.8515%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 41, internal_epoch   7,  Average loss: 0.0112, Accuracy: 412/606 (67.9868%), train_poison_data_count: 200
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  11, local model 41, internal_epoch   8,  Average loss: 0.0113, Accuracy: 380/606 (62.7063%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 41, internal_epoch   9,  Average loss: 0.0111, Accuracy: 394/606 (65.0165%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 41, internal_epoch  10,  Average loss: 0.0105, Accuracy: 414/606 (68.3168%), train_poison_data_count: 200
Global model norm: 16.539532092117113.
Norm before scaling: 16.77163528831165. Distance: 4.683453657204231
Total norm for 4 adversaries is: 16.77163528831165. distance: 4.683453657204231
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 0.8779, Accuracy: 5916/8968 (65.9679%)
poison local model 73 index 1 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  11, local model 73, internal_epoch   1,  Average loss: 0.0238, Accuracy: 347/591 (58.7140%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 73, internal_epoch   2,  Average loss: 0.0210, Accuracy: 275/591 (46.5313%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 73, internal_epoch   3,  Average loss: 0.0180, Accuracy: 254/591 (42.9780%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 73, internal_epoch   4,  Average loss: 0.0159, Accuracy: 319/591 (53.9763%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 73, internal_epoch   5,  Average loss: 0.0152, Accuracy: 286/591 (48.3926%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 73, internal_epoch   6,  Average loss: 0.0148, Accuracy: 315/591 (53.2995%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 73, internal_epoch   7,  Average loss: 0.0143, Accuracy: 339/591 (57.3604%), train_poison_data_count: 195
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  11, local model 73, internal_epoch   8,  Average loss: 0.0133, Accuracy: 356/591 (60.2369%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 73, internal_epoch   9,  Average loss: 0.0134, Accuracy: 369/591 (62.4365%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 73, internal_epoch  10,  Average loss: 0.0133, Accuracy: 365/591 (61.7597%), train_poison_data_count: 195
Global model norm: 16.539532092117113.
Norm before scaling: 16.648097463972327. Distance: 3.94282147922538
Total norm for 4 adversaries is: 16.648097463972327. distance: 3.94282147922538
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 0.9114, Accuracy: 4836/8968 (53.9251%)
poison local model 51 index 2 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  11, local model 51, internal_epoch   1,  Average loss: 0.0242, Accuracy: 324/568 (57.0423%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 51, internal_epoch   2,  Average loss: 0.0143, Accuracy: 341/568 (60.0352%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 51, internal_epoch   3,  Average loss: 0.0127, Accuracy: 361/568 (63.5563%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 51, internal_epoch   4,  Average loss: 0.0125, Accuracy: 354/568 (62.3239%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 51, internal_epoch   5,  Average loss: 0.0115, Accuracy: 378/568 (66.5493%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 51, internal_epoch   6,  Average loss: 0.0116, Accuracy: 370/568 (65.1408%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 51, internal_epoch   7,  Average loss: 0.0114, Accuracy: 366/568 (64.4366%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  11, local model 51, internal_epoch   8,  Average loss: 0.0108, Accuracy: 386/568 (67.9577%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 51, internal_epoch   9,  Average loss: 0.0102, Accuracy: 405/568 (71.3028%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 51, internal_epoch  10,  Average loss: 0.0107, Accuracy: 387/568 (68.1338%), train_poison_data_count: 180
Global model norm: 16.539532092117113.
Norm before scaling: 16.630505102105946. Distance: 4.355072632982119
Total norm for 4 adversaries is: 16.630505102105946. distance: 4.355072632982119
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 0.6460, Accuracy: 6832/8968 (76.1820%)
poison local model 74 index 3 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  11, local model 74, internal_epoch   1,  Average loss: 0.0232, Accuracy: 320/557 (57.4506%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 74, internal_epoch   2,  Average loss: 0.0115, Accuracy: 401/557 (71.9928%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 74, internal_epoch   3,  Average loss: 0.0065, Accuracy: 479/557 (85.9964%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 74, internal_epoch   4,  Average loss: 0.0054, Accuracy: 493/557 (88.5099%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 74, internal_epoch   5,  Average loss: 0.0044, Accuracy: 515/557 (92.4596%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 74, internal_epoch   6,  Average loss: 0.0043, Accuracy: 506/557 (90.8438%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 74, internal_epoch   7,  Average loss: 0.0036, Accuracy: 508/557 (91.2029%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  11, local model 74, internal_epoch   8,  Average loss: 0.0031, Accuracy: 525/557 (94.2549%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 74, internal_epoch   9,  Average loss: 0.0028, Accuracy: 526/557 (94.4345%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  11, local model 74, internal_epoch  10,  Average loss: 0.0027, Accuracy: 528/557 (94.7935%), train_poison_data_count: 180
Global model norm: 16.539532092117113.
Norm before scaling: 16.788015468747528. Distance: 3.9842410794359497
Total norm for 4 adversaries is: 16.788015468747528. distance: 3.9842410794359497
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 0.1691, Accuracy: 8297/8968 (92.5178%)
___Train Local_Simple,  epoch  11, local model 23, internal_epoch   1,  Average loss: 0.0007, Accuracy: 290/293 (98.9761%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.1451, Accuracy: 9506/10000 (95.0600%)
___Train Local_Simple,  epoch  11, local model 76, internal_epoch   1,  Average loss: 0.0020, Accuracy: 76/78 (97.4359%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.0878, Accuracy: 9738/10000 (97.3800%)
___Train Local_Simple,  epoch  11, local model 63, internal_epoch   1,  Average loss: 0.0021, Accuracy: 856/889 (96.2880%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.1288, Accuracy: 9617/10000 (96.1700%)
___Train Local_Simple,  epoch  11, local model 11, internal_epoch   1,  Average loss: 0.0014, Accuracy: 632/645 (97.9845%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.2495, Accuracy: 9193/10000 (91.9300%)
___Train Local_Simple,  epoch  11, local model 75, internal_epoch   1,  Average loss: 0.0014, Accuracy: 664/686 (96.7930%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.1555, Accuracy: 9528/10000 (95.2800%)
___Train Local_Simple,  epoch  11, local model 43, internal_epoch   1,  Average loss: 0.0008, Accuracy: 401/408 (98.2843%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.7507, Accuracy: 8522/10000 (85.2200%)
time spent on training: 271.93891978263855
选中的训练者：[41, 73, 51, 74, 23, 76, 63, 11, 75, 43]
scores：[347.62281740240303, 494.5039471361732, 310.3775893698337, 399.7802382200282, 4.656406400730648, 4.337470947834348, 6.793940779500267, 5.521227454453715, 5.051985172184329, 6.993377490507834]
选中的聚合者：[76, 23, 75, 11, 63, 43, 51]
___Test Target_Simple poisoned: False, epoch: 11: Average loss: 0.0818, Accuracy: 9742/10000 (97.4200%)
___Test Target_Simple poisoned: True, epoch: 11: Average loss: 12.0135, Accuracy: 42/8968 (0.4683%)
Done in 282.3821530342102 sec.
Server Epoch:12 choose agents : [41, 73, 51, 74, 46, 37, 21, 43, 35, 11].
poison local model 41 index 0 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  12, local model 41, internal_epoch   1,  Average loss: 0.0251, Accuracy: 325/606 (53.6304%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 41, internal_epoch   2,  Average loss: 0.0149, Accuracy: 355/606 (58.5809%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 41, internal_epoch   3,  Average loss: 0.0128, Accuracy: 406/606 (66.9967%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 41, internal_epoch   4,  Average loss: 0.0115, Accuracy: 417/606 (68.8119%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 41, internal_epoch   5,  Average loss: 0.0116, Accuracy: 410/606 (67.6568%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 41, internal_epoch   6,  Average loss: 0.0115, Accuracy: 406/606 (66.9967%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 41, internal_epoch   7,  Average loss: 0.0114, Accuracy: 391/606 (64.5215%), train_poison_data_count: 200
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  12, local model 41, internal_epoch   8,  Average loss: 0.0111, Accuracy: 395/606 (65.1815%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 41, internal_epoch   9,  Average loss: 0.0106, Accuracy: 415/606 (68.4818%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 41, internal_epoch  10,  Average loss: 0.0108, Accuracy: 404/606 (66.6667%), train_poison_data_count: 200
Global model norm: 16.55940787763296.
Norm before scaling: 16.816176228827537. Distance: 4.850126339554832
Total norm for 4 adversaries is: 16.816176228827537. distance: 4.850126339554832
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 0.8547, Accuracy: 5707/8968 (63.6374%)
poison local model 73 index 1 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  12, local model 73, internal_epoch   1,  Average loss: 0.0239, Accuracy: 355/591 (60.0677%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 73, internal_epoch   2,  Average loss: 0.0199, Accuracy: 281/591 (47.5465%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 73, internal_epoch   3,  Average loss: 0.0162, Accuracy: 343/591 (58.0372%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 73, internal_epoch   4,  Average loss: 0.0150, Accuracy: 352/591 (59.5601%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 73, internal_epoch   5,  Average loss: 0.0143, Accuracy: 328/591 (55.4992%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 73, internal_epoch   6,  Average loss: 0.0144, Accuracy: 344/591 (58.2064%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 73, internal_epoch   7,  Average loss: 0.0134, Accuracy: 364/591 (61.5905%), train_poison_data_count: 195
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  12, local model 73, internal_epoch   8,  Average loss: 0.0136, Accuracy: 348/591 (58.8832%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 73, internal_epoch   9,  Average loss: 0.0128, Accuracy: 372/591 (62.9442%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 73, internal_epoch  10,  Average loss: 0.0121, Accuracy: 389/591 (65.8206%), train_poison_data_count: 195
Global model norm: 16.55940787763296.
Norm before scaling: 16.66421541625807. Distance: 3.7913493069032254
Total norm for 4 adversaries is: 16.66421541625807. distance: 3.7913493069032254
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.0257, Accuracy: 4415/8968 (49.2306%)
poison local model 51 index 2 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  12, local model 51, internal_epoch   1,  Average loss: 0.0229, Accuracy: 326/568 (57.3944%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 51, internal_epoch   2,  Average loss: 0.0131, Accuracy: 345/568 (60.7394%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 51, internal_epoch   3,  Average loss: 0.0117, Accuracy: 381/568 (67.0775%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 51, internal_epoch   4,  Average loss: 0.0112, Accuracy: 391/568 (68.8380%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 51, internal_epoch   5,  Average loss: 0.0109, Accuracy: 393/568 (69.1901%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 51, internal_epoch   6,  Average loss: 0.0107, Accuracy: 390/568 (68.6620%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 51, internal_epoch   7,  Average loss: 0.0102, Accuracy: 387/568 (68.1338%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  12, local model 51, internal_epoch   8,  Average loss: 0.0102, Accuracy: 393/568 (69.1901%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 51, internal_epoch   9,  Average loss: 0.0097, Accuracy: 401/568 (70.5986%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 51, internal_epoch  10,  Average loss: 0.0095, Accuracy: 404/568 (71.1268%), train_poison_data_count: 180
Global model norm: 16.55940787763296.
Norm before scaling: 16.65732180240588. Distance: 4.165872091189475
Total norm for 4 adversaries is: 16.65732180240588. distance: 4.165872091189475
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 0.5170, Accuracy: 7296/8968 (81.3559%)
poison local model 74 index 3 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  12, local model 74, internal_epoch   1,  Average loss: 0.0274, Accuracy: 286/557 (51.3465%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 74, internal_epoch   2,  Average loss: 0.0127, Accuracy: 379/557 (68.0431%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 74, internal_epoch   3,  Average loss: 0.0070, Accuracy: 485/557 (87.0736%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 74, internal_epoch   4,  Average loss: 0.0056, Accuracy: 501/557 (89.9461%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 74, internal_epoch   5,  Average loss: 0.0046, Accuracy: 512/557 (91.9210%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 74, internal_epoch   6,  Average loss: 0.0041, Accuracy: 514/557 (92.2801%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 74, internal_epoch   7,  Average loss: 0.0038, Accuracy: 516/557 (92.6391%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  12, local model 74, internal_epoch   8,  Average loss: 0.0031, Accuracy: 521/557 (93.5368%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 74, internal_epoch   9,  Average loss: 0.0031, Accuracy: 527/557 (94.6140%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  12, local model 74, internal_epoch  10,  Average loss: 0.0029, Accuracy: 530/557 (95.1526%), train_poison_data_count: 180
Global model norm: 16.55940787763296.
Norm before scaling: 16.8580381696013. Distance: 4.768890562773173
Total norm for 4 adversaries is: 16.8580381696013. distance: 4.768890562773173
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 0.1043, Accuracy: 8595/8968 (95.8408%)
___Train Local_Simple,  epoch  12, local model 46, internal_epoch   1,  Average loss: 0.0020, Accuracy: 684/710 (96.3380%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.3524, Accuracy: 8890/10000 (88.9000%)
___Train Local_Simple,  epoch  12, local model 37, internal_epoch   1,  Average loss: 0.0015, Accuracy: 840/860 (97.6744%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.2609, Accuracy: 9221/10000 (92.2100%)
___Train Local_Simple,  epoch  12, local model 21, internal_epoch   1,  Average loss: 0.0014, Accuracy: 304/312 (97.4359%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.2622, Accuracy: 9185/10000 (91.8500%)
___Train Local_Simple,  epoch  12, local model 43, internal_epoch   1,  Average loss: 0.0012, Accuracy: 400/408 (98.0392%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.1394, Accuracy: 9547/10000 (95.4700%)
___Train Local_Simple,  epoch  12, local model 35, internal_epoch   1,  Average loss: 0.0006, Accuracy: 494/499 (98.9980%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.1912, Accuracy: 9435/10000 (94.3500%)
___Train Local_Simple,  epoch  12, local model 11, internal_epoch   1,  Average loss: 0.0014, Accuracy: 630/645 (97.6744%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.1907, Accuracy: 9384/10000 (93.8400%)
time spent on training: 270.556293964386
选中的训练者：[41, 73, 51, 74, 46, 37, 21, 43, 35, 11]
scores：[248.81357104820785, 380.3137669061009, 337.0276499739484, 493.5464344086412, 8.011380719845551, 7.938490698879666, 5.022820899256643, 5.517047452196884, 5.493673102666366, 5.9200210914059666]
选中的聚合者：[37, 11, 35, 43, 21, 46, 41]
___Test Target_Simple poisoned: False, epoch: 12: Average loss: 0.0800, Accuracy: 9752/10000 (97.5200%)
___Test Target_Simple poisoned: True, epoch: 12: Average loss: 11.2317, Accuracy: 45/8968 (0.5018%)
Done in 280.9698441028595 sec.
Server Epoch:13 choose agents : [41, 73, 51, 74, 61, 64, 28, 67, 22, 82].
poison local model 41 index 0 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  13, local model 41, internal_epoch   1,  Average loss: 0.0229, Accuracy: 339/606 (55.9406%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 41, internal_epoch   2,  Average loss: 0.0143, Accuracy: 359/606 (59.2409%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 41, internal_epoch   3,  Average loss: 0.0118, Accuracy: 399/606 (65.8416%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 41, internal_epoch   4,  Average loss: 0.0116, Accuracy: 391/606 (64.5215%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 41, internal_epoch   5,  Average loss: 0.0111, Accuracy: 395/606 (65.1815%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 41, internal_epoch   6,  Average loss: 0.0104, Accuracy: 426/606 (70.2970%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 41, internal_epoch   7,  Average loss: 0.0107, Accuracy: 424/606 (69.9670%), train_poison_data_count: 200
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  13, local model 41, internal_epoch   8,  Average loss: 0.0101, Accuracy: 422/606 (69.6370%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 41, internal_epoch   9,  Average loss: 0.0106, Accuracy: 411/606 (67.8218%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 41, internal_epoch  10,  Average loss: 0.0104, Accuracy: 411/606 (67.8218%), train_poison_data_count: 200
Global model norm: 16.568861175244702.
Norm before scaling: 16.699442158593296. Distance: 4.033551409371882
Total norm for 4 adversaries is: 16.699442158593296. distance: 4.033551409371882
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 0.7957, Accuracy: 5751/8968 (64.1280%)
poison local model 73 index 1 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  13, local model 73, internal_epoch   1,  Average loss: 0.0215, Accuracy: 364/591 (61.5905%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 73, internal_epoch   2,  Average loss: 0.0199, Accuracy: 326/591 (55.1607%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 73, internal_epoch   3,  Average loss: 0.0176, Accuracy: 227/591 (38.4095%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 73, internal_epoch   4,  Average loss: 0.0158, Accuracy: 345/591 (58.3756%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 73, internal_epoch   5,  Average loss: 0.0149, Accuracy: 330/591 (55.8376%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 73, internal_epoch   6,  Average loss: 0.0147, Accuracy: 325/591 (54.9915%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 73, internal_epoch   7,  Average loss: 0.0141, Accuracy: 352/591 (59.5601%), train_poison_data_count: 195
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  13, local model 73, internal_epoch   8,  Average loss: 0.0134, Accuracy: 367/591 (62.0981%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 73, internal_epoch   9,  Average loss: 0.0127, Accuracy: 376/591 (63.6210%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 73, internal_epoch  10,  Average loss: 0.0133, Accuracy: 354/591 (59.8985%), train_poison_data_count: 195
Global model norm: 16.568861175244702.
Norm before scaling: 16.578763757133515. Distance: 3.424473442198558
Total norm for 4 adversaries is: 16.578763757133515. distance: 3.424473442198558
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 0.9676, Accuracy: 4753/8968 (52.9996%)
poison local model 51 index 2 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  13, local model 51, internal_epoch   1,  Average loss: 0.0236, Accuracy: 320/568 (56.3380%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 51, internal_epoch   2,  Average loss: 0.0134, Accuracy: 341/568 (60.0352%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 51, internal_epoch   3,  Average loss: 0.0114, Accuracy: 381/568 (67.0775%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 51, internal_epoch   4,  Average loss: 0.0117, Accuracy: 361/568 (63.5563%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 51, internal_epoch   5,  Average loss: 0.0112, Accuracy: 384/568 (67.6056%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 51, internal_epoch   6,  Average loss: 0.0103, Accuracy: 398/568 (70.0704%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 51, internal_epoch   7,  Average loss: 0.0105, Accuracy: 385/568 (67.7817%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  13, local model 51, internal_epoch   8,  Average loss: 0.0102, Accuracy: 389/568 (68.4859%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 51, internal_epoch   9,  Average loss: 0.0098, Accuracy: 390/568 (68.6620%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 51, internal_epoch  10,  Average loss: 0.0093, Accuracy: 407/568 (71.6549%), train_poison_data_count: 180
Global model norm: 16.568861175244702.
Norm before scaling: 16.730770175168175. Distance: 4.335938159839476
Total norm for 4 adversaries is: 16.730770175168175. distance: 4.335938159839476
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 0.6055, Accuracy: 6805/8968 (75.8809%)
poison local model 74 index 3 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  13, local model 74, internal_epoch   1,  Average loss: 0.0253, Accuracy: 292/557 (52.4237%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 74, internal_epoch   2,  Average loss: 0.0123, Accuracy: 382/557 (68.5817%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 74, internal_epoch   3,  Average loss: 0.0071, Accuracy: 479/557 (85.9964%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 74, internal_epoch   4,  Average loss: 0.0062, Accuracy: 484/557 (86.8941%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 74, internal_epoch   5,  Average loss: 0.0045, Accuracy: 512/557 (91.9210%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 74, internal_epoch   6,  Average loss: 0.0039, Accuracy: 515/557 (92.4596%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 74, internal_epoch   7,  Average loss: 0.0039, Accuracy: 510/557 (91.5619%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  13, local model 74, internal_epoch   8,  Average loss: 0.0031, Accuracy: 518/557 (92.9982%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 74, internal_epoch   9,  Average loss: 0.0032, Accuracy: 518/557 (92.9982%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  13, local model 74, internal_epoch  10,  Average loss: 0.0025, Accuracy: 532/557 (95.5117%), train_poison_data_count: 180
Global model norm: 16.568861175244702.
Norm before scaling: 16.943929317683555. Distance: 4.940323806837589
Total norm for 4 adversaries is: 16.943929317683555. distance: 4.940323806837589
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 0.1218, Accuracy: 8501/8968 (94.7926%)
___Train Local_Simple,  epoch  13, local model 61, internal_epoch   1,  Average loss: 0.0016, Accuracy: 676/699 (96.7096%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.2334, Accuracy: 9265/10000 (92.6500%)
___Train Local_Simple,  epoch  13, local model 64, internal_epoch   1,  Average loss: 0.0020, Accuracy: 786/813 (96.6790%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.3324, Accuracy: 8743/10000 (87.4300%)
___Train Local_Simple,  epoch  13, local model 28, internal_epoch   1,  Average loss: 0.0015, Accuracy: 486/501 (97.0060%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.1059, Accuracy: 9665/10000 (96.6500%)
___Train Local_Simple,  epoch  13, local model 67, internal_epoch   1,  Average loss: 0.0014, Accuracy: 975/998 (97.6954%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.3082, Accuracy: 8996/10000 (89.9600%)
___Train Local_Simple,  epoch  13, local model 22, internal_epoch   1,  Average loss: 0.0016, Accuracy: 570/583 (97.7702%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.2830, Accuracy: 9044/10000 (90.4400%)
___Train Local_Simple,  epoch  13, local model 82, internal_epoch   1,  Average loss: 0.0016, Accuracy: 693/713 (97.1950%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.3346, Accuracy: 8873/10000 (88.7300%)
time spent on training: 267.6508114337921
选中的训练者：[41, 73, 51, 74, 61, 64, 28, 67, 22, 82]
scores：[219.95451534468796, 346.6114061380208, 333.0439095553387, 456.7726756064562, 6.338922072078371, 6.933811748675276, 6.524010236643319, 6.204134499536401, 12.085082077480093, 6.854815050588018]
选中的聚合者：[28, 61, 67, 82, 64, 22, 41]
___Test Target_Simple poisoned: False, epoch: 13: Average loss: 0.0821, Accuracy: 9743/10000 (97.4300%)
___Test Target_Simple poisoned: True, epoch: 13: Average loss: 10.9616, Accuracy: 28/8968 (0.3122%)
Done in 277.91424441337585 sec.
Server Epoch:14 choose agents : [41, 73, 51, 74, 60, 42, 85, 56, 57, 63].
poison local model 41 index 0 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  14, local model 41, internal_epoch   1,  Average loss: 0.0214, Accuracy: 362/606 (59.7360%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 41, internal_epoch   2,  Average loss: 0.0155, Accuracy: 325/606 (53.6304%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 41, internal_epoch   3,  Average loss: 0.0119, Accuracy: 402/606 (66.3366%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 41, internal_epoch   4,  Average loss: 0.0114, Accuracy: 399/606 (65.8416%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 41, internal_epoch   5,  Average loss: 0.0110, Accuracy: 422/606 (69.6370%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 41, internal_epoch   6,  Average loss: 0.0106, Accuracy: 413/606 (68.1518%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 41, internal_epoch   7,  Average loss: 0.0106, Accuracy: 402/606 (66.3366%), train_poison_data_count: 200
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  14, local model 41, internal_epoch   8,  Average loss: 0.0103, Accuracy: 410/606 (67.6568%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 41, internal_epoch   9,  Average loss: 0.0099, Accuracy: 425/606 (70.1320%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 41, internal_epoch  10,  Average loss: 0.0102, Accuracy: 416/606 (68.6469%), train_poison_data_count: 200
Global model norm: 16.576999291716763.
Norm before scaling: 16.764518253311813. Distance: 4.085507313709765
Total norm for 4 adversaries is: 16.764518253311813. distance: 4.085507313709765
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.0702, Accuracy: 4205/8968 (46.8889%)
poison local model 73 index 1 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  14, local model 73, internal_epoch   1,  Average loss: 0.0254, Accuracy: 350/591 (59.2217%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 73, internal_epoch   2,  Average loss: 0.0235, Accuracy: 249/591 (42.1320%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 73, internal_epoch   3,  Average loss: 0.0158, Accuracy: 333/591 (56.3452%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 73, internal_epoch   4,  Average loss: 0.0155, Accuracy: 333/591 (56.3452%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 73, internal_epoch   5,  Average loss: 0.0149, Accuracy: 347/591 (58.7140%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 73, internal_epoch   6,  Average loss: 0.0143, Accuracy: 348/591 (58.8832%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 73, internal_epoch   7,  Average loss: 0.0138, Accuracy: 355/591 (60.0677%), train_poison_data_count: 195
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  14, local model 73, internal_epoch   8,  Average loss: 0.0133, Accuracy: 361/591 (61.0829%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 73, internal_epoch   9,  Average loss: 0.0129, Accuracy: 370/591 (62.6058%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 73, internal_epoch  10,  Average loss: 0.0133, Accuracy: 352/591 (59.5601%), train_poison_data_count: 195
Global model norm: 16.576999291716763.
Norm before scaling: 16.76989930515619. Distance: 4.200369800454633
Total norm for 4 adversaries is: 16.76989930515619. distance: 4.200369800454633
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 0.9159, Accuracy: 4687/8968 (52.2636%)
poison local model 51 index 2 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  14, local model 51, internal_epoch   1,  Average loss: 0.0212, Accuracy: 332/568 (58.4507%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 51, internal_epoch   2,  Average loss: 0.0124, Accuracy: 366/568 (64.4366%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 51, internal_epoch   3,  Average loss: 0.0117, Accuracy: 389/568 (68.4859%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 51, internal_epoch   4,  Average loss: 0.0114, Accuracy: 374/568 (65.8451%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 51, internal_epoch   5,  Average loss: 0.0106, Accuracy: 386/568 (67.9577%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 51, internal_epoch   6,  Average loss: 0.0109, Accuracy: 376/568 (66.1972%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 51, internal_epoch   7,  Average loss: 0.0099, Accuracy: 401/568 (70.5986%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  14, local model 51, internal_epoch   8,  Average loss: 0.0095, Accuracy: 399/568 (70.2465%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 51, internal_epoch   9,  Average loss: 0.0091, Accuracy: 407/568 (71.6549%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 51, internal_epoch  10,  Average loss: 0.0090, Accuracy: 397/568 (69.8944%), train_poison_data_count: 180
Global model norm: 16.576999291716763.
Norm before scaling: 16.678102969233155. Distance: 3.875428206872254
Total norm for 4 adversaries is: 16.678102969233155. distance: 3.875428206872254
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 0.5006, Accuracy: 7818/8968 (87.1766%)
poison local model 74 index 3 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  14, local model 74, internal_epoch   1,  Average loss: 0.0236, Accuracy: 320/557 (57.4506%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 74, internal_epoch   2,  Average loss: 0.0129, Accuracy: 373/557 (66.9659%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 74, internal_epoch   3,  Average loss: 0.0078, Accuracy: 475/557 (85.2783%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 74, internal_epoch   4,  Average loss: 0.0064, Accuracy: 487/557 (87.4327%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 74, internal_epoch   5,  Average loss: 0.0048, Accuracy: 502/557 (90.1257%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 74, internal_epoch   6,  Average loss: 0.0046, Accuracy: 502/557 (90.1257%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 74, internal_epoch   7,  Average loss: 0.0037, Accuracy: 511/557 (91.7415%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  14, local model 74, internal_epoch   8,  Average loss: 0.0036, Accuracy: 512/557 (91.9210%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 74, internal_epoch   9,  Average loss: 0.0032, Accuracy: 524/557 (94.0754%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  14, local model 74, internal_epoch  10,  Average loss: 0.0031, Accuracy: 522/557 (93.7163%), train_poison_data_count: 180
Global model norm: 16.576999291716763.
Norm before scaling: 16.78224471854015. Distance: 3.971534413067227
Total norm for 4 adversaries is: 16.78224471854015. distance: 3.971534413067227
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 0.1010, Accuracy: 8659/8968 (96.5544%)
___Train Local_Simple,  epoch  14, local model 60, internal_epoch   1,  Average loss: 0.0017, Accuracy: 328/338 (97.0414%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.1240, Accuracy: 9638/10000 (96.3800%)
___Train Local_Simple,  epoch  14, local model 42, internal_epoch   1,  Average loss: 0.0014, Accuracy: 229/236 (97.0339%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.1027, Accuracy: 9678/10000 (96.7800%)
___Train Local_Simple,  epoch  14, local model 85, internal_epoch   1,  Average loss: 0.0007, Accuracy: 424/431 (98.3759%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.1498, Accuracy: 9528/10000 (95.2800%)
___Train Local_Simple,  epoch  14, local model 56, internal_epoch   1,  Average loss: 0.0014, Accuracy: 858/880 (97.5000%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.1161, Accuracy: 9645/10000 (96.4500%)
___Train Local_Simple,  epoch  14, local model 57, internal_epoch   1,  Average loss: 0.0018, Accuracy: 332/343 (96.7930%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.2723, Accuracy: 9202/10000 (92.0200%)
___Train Local_Simple,  epoch  14, local model 63, internal_epoch   1,  Average loss: 0.0021, Accuracy: 853/889 (95.9505%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.1641, Accuracy: 9466/10000 (94.6600%)
time spent on training: 266.4828851222992
选中的训练者：[41, 73, 51, 74, 60, 42, 85, 56, 57, 63]
scores：[256.60482421582935, 363.5386815978045, 332.261441797339, 509.36753237517524, 4.109401863835278, 4.565312375146636, 3.7569448418770506, 5.690608468258172, 6.585401869134442, 5.471088438527346]
选中的聚合者：[42, 60, 85, 63, 56, 41, 57]
___Test Target_Simple poisoned: False, epoch: 14: Average loss: 0.0834, Accuracy: 9740/10000 (97.4000%)
___Test Target_Simple poisoned: True, epoch: 14: Average loss: 10.7101, Accuracy: 29/8968 (0.3234%)
Done in 276.7972753047943 sec.
Server Epoch:15 choose agents : [41, 73, 51, 74, 77, 18, 43, 91, 42, 52].
poison local model 41 index 0 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  15, local model 41, internal_epoch   1,  Average loss: 0.0208, Accuracy: 360/606 (59.4059%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 41, internal_epoch   2,  Average loss: 0.0144, Accuracy: 358/606 (59.0759%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 41, internal_epoch   3,  Average loss: 0.0120, Accuracy: 404/606 (66.6667%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 41, internal_epoch   4,  Average loss: 0.0116, Accuracy: 418/606 (68.9769%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 41, internal_epoch   5,  Average loss: 0.0115, Accuracy: 400/606 (66.0066%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 41, internal_epoch   6,  Average loss: 0.0112, Accuracy: 398/606 (65.6766%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 41, internal_epoch   7,  Average loss: 0.0108, Accuracy: 421/606 (69.4719%), train_poison_data_count: 200
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  15, local model 41, internal_epoch   8,  Average loss: 0.0105, Accuracy: 424/606 (69.9670%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 41, internal_epoch   9,  Average loss: 0.0104, Accuracy: 420/606 (69.3069%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 41, internal_epoch  10,  Average loss: 0.0106, Accuracy: 413/606 (68.1518%), train_poison_data_count: 200
Global model norm: 16.599080696847906.
Norm before scaling: 16.69518728749256. Distance: 3.7053886609206064
Total norm for 4 adversaries is: 16.69518728749256. distance: 3.7053886609206064
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.7958, Accuracy: 5998/8968 (66.8822%)
poison local model 73 index 1 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  15, local model 73, internal_epoch   1,  Average loss: 0.0224, Accuracy: 362/591 (61.2521%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 73, internal_epoch   2,  Average loss: 0.0203, Accuracy: 274/591 (46.3621%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 73, internal_epoch   3,  Average loss: 0.0170, Accuracy: 282/591 (47.7157%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 73, internal_epoch   4,  Average loss: 0.0153, Accuracy: 338/591 (57.1912%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 73, internal_epoch   5,  Average loss: 0.0141, Accuracy: 351/591 (59.3909%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 73, internal_epoch   6,  Average loss: 0.0141, Accuracy: 354/591 (59.8985%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 73, internal_epoch   7,  Average loss: 0.0138, Accuracy: 353/591 (59.7293%), train_poison_data_count: 195
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  15, local model 73, internal_epoch   8,  Average loss: 0.0137, Accuracy: 362/591 (61.2521%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 73, internal_epoch   9,  Average loss: 0.0130, Accuracy: 362/591 (61.2521%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 73, internal_epoch  10,  Average loss: 0.0134, Accuracy: 350/591 (59.2217%), train_poison_data_count: 195
Global model norm: 16.599080696847906.
Norm before scaling: 16.644440033632947. Distance: 3.4693407810003207
Total norm for 4 adversaries is: 16.644440033632947. distance: 3.4693407810003207
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.9120, Accuracy: 5098/8968 (56.8466%)
poison local model 51 index 2 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  15, local model 51, internal_epoch   1,  Average loss: 0.0226, Accuracy: 319/568 (56.1620%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 51, internal_epoch   2,  Average loss: 0.0133, Accuracy: 328/568 (57.7465%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 51, internal_epoch   3,  Average loss: 0.0120, Accuracy: 374/568 (65.8451%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 51, internal_epoch   4,  Average loss: 0.0107, Accuracy: 390/568 (68.6620%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 51, internal_epoch   5,  Average loss: 0.0110, Accuracy: 374/568 (65.8451%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 51, internal_epoch   6,  Average loss: 0.0104, Accuracy: 395/568 (69.5423%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 51, internal_epoch   7,  Average loss: 0.0101, Accuracy: 391/568 (68.8380%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  15, local model 51, internal_epoch   8,  Average loss: 0.0102, Accuracy: 387/568 (68.1338%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 51, internal_epoch   9,  Average loss: 0.0097, Accuracy: 408/568 (71.8310%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 51, internal_epoch  10,  Average loss: 0.0099, Accuracy: 398/568 (70.0704%), train_poison_data_count: 180
Global model norm: 16.599080696847906.
Norm before scaling: 16.72359834052104. Distance: 4.274026833578085
Total norm for 4 adversaries is: 16.72359834052104. distance: 4.274026833578085
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.5350, Accuracy: 7387/8968 (82.3707%)
poison local model 74 index 3 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  15, local model 74, internal_epoch   1,  Average loss: 0.0232, Accuracy: 310/557 (55.6553%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 74, internal_epoch   2,  Average loss: 0.0117, Accuracy: 382/557 (68.5817%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 74, internal_epoch   3,  Average loss: 0.0067, Accuracy: 480/557 (86.1759%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 74, internal_epoch   4,  Average loss: 0.0051, Accuracy: 508/557 (91.2029%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 74, internal_epoch   5,  Average loss: 0.0040, Accuracy: 517/557 (92.8187%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 74, internal_epoch   6,  Average loss: 0.0033, Accuracy: 521/557 (93.5368%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 74, internal_epoch   7,  Average loss: 0.0035, Accuracy: 513/557 (92.1005%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  15, local model 74, internal_epoch   8,  Average loss: 0.0027, Accuracy: 526/557 (94.4345%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 74, internal_epoch   9,  Average loss: 0.0027, Accuracy: 526/557 (94.4345%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  15, local model 74, internal_epoch  10,  Average loss: 0.0026, Accuracy: 525/557 (94.2549%), train_poison_data_count: 180
Global model norm: 16.599080696847906.
Norm before scaling: 16.815521989672405. Distance: 4.101624115980638
Total norm for 4 adversaries is: 16.815521989672405. distance: 4.101624115980638
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.1374, Accuracy: 8433/8968 (94.0343%)
___Train Local_Simple,  epoch  15, local model 77, internal_epoch   1,  Average loss: 0.0016, Accuracy: 573/589 (97.2835%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.2044, Accuracy: 9393/10000 (93.9300%)
___Train Local_Simple,  epoch  15, local model 18, internal_epoch   1,  Average loss: 0.0021, Accuracy: 441/459 (96.0784%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.2121, Accuracy: 9306/10000 (93.0600%)
___Train Local_Simple,  epoch  15, local model 43, internal_epoch   1,  Average loss: 0.0011, Accuracy: 400/408 (98.0392%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.1133, Accuracy: 9653/10000 (96.5300%)
___Train Local_Simple,  epoch  15, local model 91, internal_epoch   1,  Average loss: 0.0007, Accuracy: 252/256 (98.4375%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.0888, Accuracy: 9737/10000 (97.3700%)
___Train Local_Simple,  epoch  15, local model 42, internal_epoch   1,  Average loss: 0.0014, Accuracy: 231/236 (97.8814%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.1026, Accuracy: 9684/10000 (96.8400%)
___Train Local_Simple,  epoch  15, local model 52, internal_epoch   1,  Average loss: 0.0010, Accuracy: 249/253 (98.4190%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.1169, Accuracy: 9642/10000 (96.4200%)
time spent on training: 265.9299566745758
选中的训练者：[41, 73, 51, 74, 77, 18, 43, 91, 42, 52]
scores：[344.6642278109951, 369.5754541492204, 414.63795801362886, 415.1533815092375, 4.639850104973219, 4.805572577022085, 2.775857721834276, 2.756612802432942, 3.494624929455229, 3.287147436895292]
选中的聚合者：[43, 52, 42, 91, 77, 18, 41]
___Test Target_Simple poisoned: False, epoch: 15: Average loss: 0.0954, Accuracy: 9721/10000 (97.2100%)
___Test Target_Simple poisoned: True, epoch: 15: Average loss: 10.9904, Accuracy: 23/8968 (0.2565%)
Done in 276.17806100845337 sec.
Server Epoch:16 choose agents : [41, 73, 51, 74, 28, 37, 96, 99, 80, 13].
poison local model 41 index 0 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  16, local model 41, internal_epoch   1,  Average loss: 0.0186, Accuracy: 367/606 (60.5611%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 41, internal_epoch   2,  Average loss: 0.0120, Accuracy: 387/606 (63.8614%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 41, internal_epoch   3,  Average loss: 0.0124, Accuracy: 344/606 (56.7657%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 41, internal_epoch   4,  Average loss: 0.0110, Accuracy: 416/606 (68.6469%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 41, internal_epoch   5,  Average loss: 0.0108, Accuracy: 422/606 (69.6370%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 41, internal_epoch   6,  Average loss: 0.0108, Accuracy: 403/606 (66.5017%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 41, internal_epoch   7,  Average loss: 0.0103, Accuracy: 424/606 (69.9670%), train_poison_data_count: 200
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  16, local model 41, internal_epoch   8,  Average loss: 0.0101, Accuracy: 428/606 (70.6271%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 41, internal_epoch   9,  Average loss: 0.0103, Accuracy: 406/606 (66.9967%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 41, internal_epoch  10,  Average loss: 0.0098, Accuracy: 421/606 (69.4719%), train_poison_data_count: 200
Global model norm: 16.632354715694103.
Norm before scaling: 16.64275771251098. Distance: 3.0905331928746156
Total norm for 4 adversaries is: 16.64275771251098. distance: 3.0905331928746156
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 0.9081, Accuracy: 5419/8968 (60.4260%)
poison local model 73 index 1 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  16, local model 73, internal_epoch   1,  Average loss: 0.0235, Accuracy: 357/591 (60.4061%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 73, internal_epoch   2,  Average loss: 0.0224, Accuracy: 296/591 (50.0846%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 73, internal_epoch   3,  Average loss: 0.0190, Accuracy: 324/591 (54.8223%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 73, internal_epoch   4,  Average loss: 0.0160, Accuracy: 332/591 (56.1760%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 73, internal_epoch   5,  Average loss: 0.0154, Accuracy: 333/591 (56.3452%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 73, internal_epoch   6,  Average loss: 0.0147, Accuracy: 336/591 (56.8528%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 73, internal_epoch   7,  Average loss: 0.0142, Accuracy: 341/591 (57.6988%), train_poison_data_count: 195
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  16, local model 73, internal_epoch   8,  Average loss: 0.0140, Accuracy: 341/591 (57.6988%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 73, internal_epoch   9,  Average loss: 0.0132, Accuracy: 368/591 (62.2673%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 73, internal_epoch  10,  Average loss: 0.0127, Accuracy: 375/591 (63.4518%), train_poison_data_count: 195
Global model norm: 16.632354715694103.
Norm before scaling: 16.768238670921882. Distance: 4.106366466804002
Total norm for 4 adversaries is: 16.768238670921882. distance: 4.106366466804002
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 0.9407, Accuracy: 5032/8968 (56.1106%)
poison local model 51 index 2 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  16, local model 51, internal_epoch   1,  Average loss: 0.0226, Accuracy: 312/568 (54.9296%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 51, internal_epoch   2,  Average loss: 0.0120, Accuracy: 381/568 (67.0775%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 51, internal_epoch   3,  Average loss: 0.0110, Accuracy: 380/568 (66.9014%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 51, internal_epoch   4,  Average loss: 0.0106, Accuracy: 377/568 (66.3732%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 51, internal_epoch   5,  Average loss: 0.0099, Accuracy: 393/568 (69.1901%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 51, internal_epoch   6,  Average loss: 0.0100, Accuracy: 385/568 (67.7817%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 51, internal_epoch   7,  Average loss: 0.0094, Accuracy: 401/568 (70.5986%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  16, local model 51, internal_epoch   8,  Average loss: 0.0088, Accuracy: 424/568 (74.6479%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 51, internal_epoch   9,  Average loss: 0.0084, Accuracy: 422/568 (74.2958%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 51, internal_epoch  10,  Average loss: 0.0084, Accuracy: 421/568 (74.1197%), train_poison_data_count: 180
Global model norm: 16.632354715694103.
Norm before scaling: 16.817295000469382. Distance: 4.372296615241284
Total norm for 4 adversaries is: 16.817295000469382. distance: 4.372296615241284
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 0.5026, Accuracy: 7617/8968 (84.9353%)
poison local model 74 index 3 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  16, local model 74, internal_epoch   1,  Average loss: 0.0236, Accuracy: 306/557 (54.9372%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 74, internal_epoch   2,  Average loss: 0.0119, Accuracy: 370/557 (66.4273%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 74, internal_epoch   3,  Average loss: 0.0066, Accuracy: 487/557 (87.4327%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 74, internal_epoch   4,  Average loss: 0.0053, Accuracy: 505/557 (90.6643%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 74, internal_epoch   5,  Average loss: 0.0044, Accuracy: 515/557 (92.4596%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 74, internal_epoch   6,  Average loss: 0.0038, Accuracy: 515/557 (92.4596%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 74, internal_epoch   7,  Average loss: 0.0033, Accuracy: 518/557 (92.9982%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  16, local model 74, internal_epoch   8,  Average loss: 0.0030, Accuracy: 519/557 (93.1777%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 74, internal_epoch   9,  Average loss: 0.0025, Accuracy: 529/557 (94.9731%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  16, local model 74, internal_epoch  10,  Average loss: 0.0025, Accuracy: 535/557 (96.0503%), train_poison_data_count: 180
Global model norm: 16.632354715694103.
Norm before scaling: 16.87681739345518. Distance: 4.251635517249004
Total norm for 4 adversaries is: 16.87681739345518. distance: 4.251635517249004
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 0.1401, Accuracy: 8399/8968 (93.6552%)
___Train Local_Simple,  epoch  16, local model 28, internal_epoch   1,  Average loss: 0.0017, Accuracy: 483/501 (96.4072%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.1117, Accuracy: 9638/10000 (96.3800%)
___Train Local_Simple,  epoch  16, local model 37, internal_epoch   1,  Average loss: 0.0023, Accuracy: 831/860 (96.6279%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.2189, Accuracy: 9289/10000 (92.8900%)
___Train Local_Simple,  epoch  16, local model 96, internal_epoch   1,  Average loss: 0.0015, Accuracy: 652/672 (97.0238%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.2084, Accuracy: 9351/10000 (93.5100%)
___Train Local_Simple,  epoch  16, local model 99, internal_epoch   1,  Average loss: 0.0009, Accuracy: 370/377 (98.1432%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.1361, Accuracy: 9570/10000 (95.7000%)
___Train Local_Simple,  epoch  16, local model 80, internal_epoch   1,  Average loss: 0.0008, Accuracy: 422/431 (97.9118%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.1852, Accuracy: 9425/10000 (94.2500%)
___Train Local_Simple,  epoch  16, local model 13, internal_epoch   1,  Average loss: 0.0011, Accuracy: 716/734 (97.5477%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.1846, Accuracy: 9449/10000 (94.4900%)
time spent on training: 266.0355544090271
选中的训练者：[41, 73, 51, 74, 28, 37, 96, 99, 80, 13]
scores：[236.48702418425455, 725.5417288372338, 425.6737095867527, 444.609943344976, 3.936628291856044, 7.288712781854184, 4.769991435548284, 3.4325219337855937, 3.8823195927288294, 4.571362856179948]
选中的聚合者：[99, 28, 80, 13, 37, 96, 41]
___Test Target_Simple poisoned: False, epoch: 16: Average loss: 0.0976, Accuracy: 9711/10000 (97.1100%)
___Test Target_Simple poisoned: True, epoch: 16: Average loss: 10.9212, Accuracy: 27/8968 (0.3011%)
Done in 276.257773399353 sec.
Server Epoch:17 choose agents : [41, 73, 51, 74, 98, 78, 46, 45, 62, 50].
poison local model 41 index 0 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  17, local model 41, internal_epoch   1,  Average loss: 0.0171, Accuracy: 385/606 (63.5314%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 41, internal_epoch   2,  Average loss: 0.0134, Accuracy: 360/606 (59.4059%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 41, internal_epoch   3,  Average loss: 0.0108, Accuracy: 412/606 (67.9868%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 41, internal_epoch   4,  Average loss: 0.0109, Accuracy: 412/606 (67.9868%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 41, internal_epoch   5,  Average loss: 0.0109, Accuracy: 402/606 (66.3366%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 41, internal_epoch   6,  Average loss: 0.0102, Accuracy: 423/606 (69.8020%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 41, internal_epoch   7,  Average loss: 0.0101, Accuracy: 415/606 (68.4818%), train_poison_data_count: 200
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  17, local model 41, internal_epoch   8,  Average loss: 0.0101, Accuracy: 416/606 (68.6469%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 41, internal_epoch   9,  Average loss: 0.0100, Accuracy: 428/606 (70.6271%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 41, internal_epoch  10,  Average loss: 0.0100, Accuracy: 419/606 (69.1419%), train_poison_data_count: 200
Global model norm: 16.652835345634934.
Norm before scaling: 16.659787602164045. Distance: 2.99266060457942
Total norm for 4 adversaries is: 16.659787602164045. distance: 2.99266060457942
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.1691, Accuracy: 4122/8968 (45.9634%)
poison local model 73 index 1 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  17, local model 73, internal_epoch   1,  Average loss: 0.0241, Accuracy: 331/591 (56.0068%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 73, internal_epoch   2,  Average loss: 0.0224, Accuracy: 312/591 (52.7919%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 73, internal_epoch   3,  Average loss: 0.0210, Accuracy: 318/591 (53.8071%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 73, internal_epoch   4,  Average loss: 0.0180, Accuracy: 330/591 (55.8376%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 73, internal_epoch   5,  Average loss: 0.0169, Accuracy: 297/591 (50.2538%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 73, internal_epoch   6,  Average loss: 0.0157, Accuracy: 348/591 (58.8832%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 73, internal_epoch   7,  Average loss: 0.0152, Accuracy: 337/591 (57.0220%), train_poison_data_count: 195
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  17, local model 73, internal_epoch   8,  Average loss: 0.0148, Accuracy: 317/591 (53.6379%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 73, internal_epoch   9,  Average loss: 0.0145, Accuracy: 320/591 (54.1455%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 73, internal_epoch  10,  Average loss: 0.0143, Accuracy: 332/591 (56.1760%), train_poison_data_count: 195
Global model norm: 16.652835345634934.
Norm before scaling: 16.736527675792793. Distance: 4.2453089237022565
Total norm for 4 adversaries is: 16.736527675792793. distance: 4.2453089237022565
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 0.7445, Accuracy: 7397/8968 (82.4822%)
poison local model 51 index 2 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  17, local model 51, internal_epoch   1,  Average loss: 0.0228, Accuracy: 325/568 (57.2183%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 51, internal_epoch   2,  Average loss: 0.0131, Accuracy: 351/568 (61.7958%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 51, internal_epoch   3,  Average loss: 0.0114, Accuracy: 385/568 (67.7817%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 51, internal_epoch   4,  Average loss: 0.0113, Accuracy: 362/568 (63.7324%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 51, internal_epoch   5,  Average loss: 0.0105, Accuracy: 393/568 (69.1901%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 51, internal_epoch   6,  Average loss: 0.0105, Accuracy: 391/568 (68.8380%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 51, internal_epoch   7,  Average loss: 0.0102, Accuracy: 390/568 (68.6620%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  17, local model 51, internal_epoch   8,  Average loss: 0.0092, Accuracy: 404/568 (71.1268%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 51, internal_epoch   9,  Average loss: 0.0091, Accuracy: 417/568 (73.4155%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 51, internal_epoch  10,  Average loss: 0.0090, Accuracy: 408/568 (71.8310%), train_poison_data_count: 180
Global model norm: 16.652835345634934.
Norm before scaling: 16.79588114792303. Distance: 4.3239342407251335
Total norm for 4 adversaries is: 16.79588114792303. distance: 4.3239342407251335
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 0.5115, Accuracy: 7790/8968 (86.8644%)
poison local model 74 index 3 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  17, local model 74, internal_epoch   1,  Average loss: 0.0237, Accuracy: 317/557 (56.9120%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 74, internal_epoch   2,  Average loss: 0.0113, Accuracy: 374/557 (67.1454%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 74, internal_epoch   3,  Average loss: 0.0055, Accuracy: 492/557 (88.3303%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 74, internal_epoch   4,  Average loss: 0.0045, Accuracy: 506/557 (90.8438%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 74, internal_epoch   5,  Average loss: 0.0041, Accuracy: 516/557 (92.6391%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 74, internal_epoch   6,  Average loss: 0.0033, Accuracy: 529/557 (94.9731%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 74, internal_epoch   7,  Average loss: 0.0034, Accuracy: 520/557 (93.3573%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  17, local model 74, internal_epoch   8,  Average loss: 0.0028, Accuracy: 529/557 (94.9731%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 74, internal_epoch   9,  Average loss: 0.0028, Accuracy: 529/557 (94.9731%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  17, local model 74, internal_epoch  10,  Average loss: 0.0027, Accuracy: 525/557 (94.2549%), train_poison_data_count: 180
Global model norm: 16.652835345634934.
Norm before scaling: 16.91735136904563. Distance: 4.34878007291224
Total norm for 4 adversaries is: 16.91735136904563. distance: 4.34878007291224
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 0.1333, Accuracy: 8443/8968 (94.1459%)
___Train Local_Simple,  epoch  17, local model 98, internal_epoch   1,  Average loss: 0.0014, Accuracy: 794/818 (97.0660%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.3044, Accuracy: 9063/10000 (90.6300%)
___Train Local_Simple,  epoch  17, local model 78, internal_epoch   1,  Average loss: 0.0010, Accuracy: 298/303 (98.3498%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.1753, Accuracy: 9466/10000 (94.6600%)
___Train Local_Simple,  epoch  17, local model 46, internal_epoch   1,  Average loss: 0.0017, Accuracy: 686/710 (96.6197%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.3749, Accuracy: 8819/10000 (88.1900%)
___Train Local_Simple,  epoch  17, local model 45, internal_epoch   1,  Average loss: 0.0015, Accuracy: 609/628 (96.9745%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.2678, Accuracy: 9126/10000 (91.2600%)
___Train Local_Simple,  epoch  17, local model 62, internal_epoch   1,  Average loss: 0.0016, Accuracy: 406/423 (95.9811%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.1603, Accuracy: 9499/10000 (94.9900%)
___Train Local_Simple,  epoch  17, local model 50, internal_epoch   1,  Average loss: 0.0020, Accuracy: 458/474 (96.6245%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.3233, Accuracy: 8977/10000 (89.7700%)
time spent on training: 267.17679810523987
选中的训练者：[41, 73, 51, 74, 98, 78, 46, 45, 62, 50]
scores：[228.67341393458474, 794.3900591124, 413.8837088125822, 403.7525893891219, 6.222030394058662, 4.760850387743232, 5.009286892176712, 5.279668878015651, 4.438680992669248, 5.543581636956814]
选中的聚合者：[78, 50, 62, 45, 46, 98, 41]
___Test Target_Simple poisoned: False, epoch: 17: Average loss: 0.0983, Accuracy: 9706/10000 (97.0600%)
___Test Target_Simple poisoned: True, epoch: 17: Average loss: 10.9317, Accuracy: 24/8968 (0.2676%)
Done in 277.43592143058777 sec.
Server Epoch:18 choose agents : [41, 73, 51, 74, 67, 14, 36, 24, 7, 4].
poison local model 41 index 0 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  18, local model 41, internal_epoch   1,  Average loss: 0.0187, Accuracy: 373/606 (61.5512%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 41, internal_epoch   2,  Average loss: 0.0126, Accuracy: 382/606 (63.0363%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 41, internal_epoch   3,  Average loss: 0.0122, Accuracy: 347/606 (57.2607%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 41, internal_epoch   4,  Average loss: 0.0112, Accuracy: 397/606 (65.5116%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 41, internal_epoch   5,  Average loss: 0.0107, Accuracy: 408/606 (67.3267%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 41, internal_epoch   6,  Average loss: 0.0107, Accuracy: 415/606 (68.4818%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 41, internal_epoch   7,  Average loss: 0.0104, Accuracy: 410/606 (67.6568%), train_poison_data_count: 200
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  18, local model 41, internal_epoch   8,  Average loss: 0.0106, Accuracy: 405/606 (66.8317%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 41, internal_epoch   9,  Average loss: 0.0099, Accuracy: 423/606 (69.8020%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 41, internal_epoch  10,  Average loss: 0.0101, Accuracy: 427/606 (70.4620%), train_poison_data_count: 200
Global model norm: 16.67352692876167.
Norm before scaling: 16.685132490940383. Distance: 3.205542271008246
Total norm for 4 adversaries is: 16.685132490940383. distance: 3.205542271008246
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 0.7291, Accuracy: 6209/8968 (69.2351%)
poison local model 73 index 1 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  18, local model 73, internal_epoch   1,  Average loss: 0.0230, Accuracy: 352/591 (59.5601%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 73, internal_epoch   2,  Average loss: 0.0219, Accuracy: 300/591 (50.7614%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 73, internal_epoch   3,  Average loss: 0.0192, Accuracy: 285/591 (48.2234%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 73, internal_epoch   4,  Average loss: 0.0158, Accuracy: 347/591 (58.7140%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 73, internal_epoch   5,  Average loss: 0.0156, Accuracy: 335/591 (56.6836%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 73, internal_epoch   6,  Average loss: 0.0151, Accuracy: 326/591 (55.1607%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 73, internal_epoch   7,  Average loss: 0.0140, Accuracy: 360/591 (60.9137%), train_poison_data_count: 195
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  18, local model 73, internal_epoch   8,  Average loss: 0.0134, Accuracy: 370/591 (62.6058%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 73, internal_epoch   9,  Average loss: 0.0129, Accuracy: 372/591 (62.9442%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 73, internal_epoch  10,  Average loss: 0.0126, Accuracy: 387/591 (65.4822%), train_poison_data_count: 195
Global model norm: 16.67352692876167.
Norm before scaling: 16.770757310904298. Distance: 3.9172250606651797
Total norm for 4 adversaries is: 16.770757310904298. distance: 3.9172250606651797
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 0.7864, Accuracy: 5949/8968 (66.3359%)
poison local model 51 index 2 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  18, local model 51, internal_epoch   1,  Average loss: 0.0233, Accuracy: 331/568 (58.2746%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 51, internal_epoch   2,  Average loss: 0.0133, Accuracy: 369/568 (64.9648%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 51, internal_epoch   3,  Average loss: 0.0115, Accuracy: 373/568 (65.6690%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 51, internal_epoch   4,  Average loss: 0.0110, Accuracy: 377/568 (66.3732%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 51, internal_epoch   5,  Average loss: 0.0101, Accuracy: 393/568 (69.1901%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 51, internal_epoch   6,  Average loss: 0.0099, Accuracy: 384/568 (67.6056%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 51, internal_epoch   7,  Average loss: 0.0086, Accuracy: 424/568 (74.6479%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  18, local model 51, internal_epoch   8,  Average loss: 0.0085, Accuracy: 408/568 (71.8310%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 51, internal_epoch   9,  Average loss: 0.0079, Accuracy: 440/568 (77.4648%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 51, internal_epoch  10,  Average loss: 0.0082, Accuracy: 424/568 (74.6479%), train_poison_data_count: 180
Global model norm: 16.67352692876167.
Norm before scaling: 16.87973295172303. Distance: 4.50317821590368
Total norm for 4 adversaries is: 16.87973295172303. distance: 4.50317821590368
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 0.4414, Accuracy: 8006/8968 (89.2730%)
poison local model 74 index 3 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  18, local model 74, internal_epoch   1,  Average loss: 0.0249, Accuracy: 308/557 (55.2962%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 74, internal_epoch   2,  Average loss: 0.0131, Accuracy: 365/557 (65.5296%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 74, internal_epoch   3,  Average loss: 0.0073, Accuracy: 471/557 (84.5601%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 74, internal_epoch   4,  Average loss: 0.0066, Accuracy: 493/557 (88.5099%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 74, internal_epoch   5,  Average loss: 0.0057, Accuracy: 499/557 (89.5871%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 74, internal_epoch   6,  Average loss: 0.0040, Accuracy: 521/557 (93.5368%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 74, internal_epoch   7,  Average loss: 0.0036, Accuracy: 519/557 (93.1777%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  18, local model 74, internal_epoch   8,  Average loss: 0.0031, Accuracy: 529/557 (94.9731%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 74, internal_epoch   9,  Average loss: 0.0032, Accuracy: 525/557 (94.2549%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  18, local model 74, internal_epoch  10,  Average loss: 0.0029, Accuracy: 529/557 (94.9731%), train_poison_data_count: 180
Global model norm: 16.67352692876167.
Norm before scaling: 16.861304482962982. Distance: 4.258457519950006
Total norm for 4 adversaries is: 16.861304482962982. distance: 4.258457519950006
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 0.1435, Accuracy: 8421/8968 (93.9005%)
___Train Local_Simple,  epoch  18, local model 67, internal_epoch   1,  Average loss: 0.0013, Accuracy: 979/998 (98.0962%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.4698, Accuracy: 8742/10000 (87.4200%)
___Train Local_Simple,  epoch  18, local model 14, internal_epoch   1,  Average loss: 0.0020, Accuracy: 362/376 (96.2766%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.1115, Accuracy: 9664/10000 (96.6400%)
___Train Local_Simple,  epoch  18, local model 36, internal_epoch   1,  Average loss: 0.0019, Accuracy: 974/1005 (96.9154%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.4119, Accuracy: 8698/10000 (86.9800%)
___Train Local_Simple,  epoch  18, local model 24, internal_epoch   1,  Average loss: 0.0023, Accuracy: 364/379 (96.0422%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.1208, Accuracy: 9614/10000 (96.1400%)
___Train Local_Simple,  epoch  18, local model 7, internal_epoch   1,  Average loss: 0.0015, Accuracy: 410/418 (98.0861%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.1756, Accuracy: 9459/10000 (94.5900%)
___Train Local_Simple,  epoch  18, local model 4, internal_epoch   1,  Average loss: 0.0010, Accuracy: 644/658 (97.8723%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.5113, Accuracy: 8588/10000 (85.8800%)
time spent on training: 266.87336111068726
选中的训练者：[41, 73, 51, 74, 67, 14, 36, 24, 7, 4]
scores：[183.27837294431987, 504.67412546959054, 491.52561900208866, 529.6494388666066, 5.727010681590383, 6.543565168675125, 7.768178800885553, 5.093192679412983, 5.28979803250724, 5.9615115969936685]
选中的聚合者：[24, 67, 7, 4, 14, 36, 41]
___Test Target_Simple poisoned: False, epoch: 18: Average loss: 0.0896, Accuracy: 9732/10000 (97.3200%)
___Test Target_Simple poisoned: True, epoch: 18: Average loss: 10.4297, Accuracy: 29/8968 (0.3234%)
Done in 277.1451666355133 sec.
Server Epoch:19 choose agents : [41, 73, 51, 74, 80, 39, 26, 29, 4, 42].
poison local model 41 index 0 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  19, local model 41, internal_epoch   1,  Average loss: 0.0182, Accuracy: 371/606 (61.2211%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 41, internal_epoch   2,  Average loss: 0.0138, Accuracy: 356/606 (58.7459%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 41, internal_epoch   3,  Average loss: 0.0110, Accuracy: 394/606 (65.0165%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 41, internal_epoch   4,  Average loss: 0.0109, Accuracy: 407/606 (67.1617%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 41, internal_epoch   5,  Average loss: 0.0103, Accuracy: 422/606 (69.6370%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 41, internal_epoch   6,  Average loss: 0.0099, Accuracy: 430/606 (70.9571%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 41, internal_epoch   7,  Average loss: 0.0104, Accuracy: 424/606 (69.9670%), train_poison_data_count: 200
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  19, local model 41, internal_epoch   8,  Average loss: 0.0100, Accuracy: 422/606 (69.6370%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 41, internal_epoch   9,  Average loss: 0.0102, Accuracy: 410/606 (67.6568%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 41, internal_epoch  10,  Average loss: 0.0101, Accuracy: 422/606 (69.6370%), train_poison_data_count: 200
Global model norm: 16.692022846527152.
Norm before scaling: 16.687554862971613. Distance: 2.988129655570684
Total norm for 4 adversaries is: 16.687554862971613. distance: 2.988129655570684
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 0.8068, Accuracy: 5592/8968 (62.3550%)
poison local model 73 index 1 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  19, local model 73, internal_epoch   1,  Average loss: 0.0216, Accuracy: 336/591 (56.8528%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 73, internal_epoch   2,  Average loss: 0.0185, Accuracy: 301/591 (50.9306%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 73, internal_epoch   3,  Average loss: 0.0169, Accuracy: 289/591 (48.9002%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 73, internal_epoch   4,  Average loss: 0.0152, Accuracy: 335/591 (56.6836%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 73, internal_epoch   5,  Average loss: 0.0151, Accuracy: 326/591 (55.1607%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 73, internal_epoch   6,  Average loss: 0.0144, Accuracy: 335/591 (56.6836%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 73, internal_epoch   7,  Average loss: 0.0146, Accuracy: 330/591 (55.8376%), train_poison_data_count: 195
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  19, local model 73, internal_epoch   8,  Average loss: 0.0139, Accuracy: 350/591 (59.2217%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 73, internal_epoch   9,  Average loss: 0.0132, Accuracy: 356/591 (60.2369%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 73, internal_epoch  10,  Average loss: 0.0130, Accuracy: 361/591 (61.0829%), train_poison_data_count: 195
Global model norm: 16.692022846527152.
Norm before scaling: 16.655881723766345. Distance: 3.469734121025049
Total norm for 4 adversaries is: 16.655881723766345. distance: 3.469734121025049
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 0.8368, Accuracy: 5753/8968 (64.1503%)
poison local model 51 index 2 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  19, local model 51, internal_epoch   1,  Average loss: 0.0210, Accuracy: 344/568 (60.5634%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 51, internal_epoch   2,  Average loss: 0.0126, Accuracy: 346/568 (60.9155%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 51, internal_epoch   3,  Average loss: 0.0118, Accuracy: 359/568 (63.2042%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 51, internal_epoch   4,  Average loss: 0.0109, Accuracy: 380/568 (66.9014%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 51, internal_epoch   5,  Average loss: 0.0108, Accuracy: 387/568 (68.1338%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 51, internal_epoch   6,  Average loss: 0.0099, Accuracy: 396/568 (69.7183%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 51, internal_epoch   7,  Average loss: 0.0099, Accuracy: 390/568 (68.6620%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  19, local model 51, internal_epoch   8,  Average loss: 0.0095, Accuracy: 395/568 (69.5423%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 51, internal_epoch   9,  Average loss: 0.0092, Accuracy: 404/568 (71.1268%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 51, internal_epoch  10,  Average loss: 0.0095, Accuracy: 391/568 (68.8380%), train_poison_data_count: 180
Global model norm: 16.692022846527152.
Norm before scaling: 16.771879112224667. Distance: 3.9325275813528107
Total norm for 4 adversaries is: 16.771879112224667. distance: 3.9325275813528107
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 0.6041, Accuracy: 7154/8968 (79.7725%)
poison local model 74 index 3 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  19, local model 74, internal_epoch   1,  Average loss: 0.0217, Accuracy: 331/557 (59.4255%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 74, internal_epoch   2,  Average loss: 0.0115, Accuracy: 384/557 (68.9408%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 74, internal_epoch   3,  Average loss: 0.0068, Accuracy: 476/557 (85.4578%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 74, internal_epoch   4,  Average loss: 0.0054, Accuracy: 501/557 (89.9461%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 74, internal_epoch   5,  Average loss: 0.0049, Accuracy: 503/557 (90.3052%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 74, internal_epoch   6,  Average loss: 0.0038, Accuracy: 517/557 (92.8187%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 74, internal_epoch   7,  Average loss: 0.0036, Accuracy: 522/557 (93.7163%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  19, local model 74, internal_epoch   8,  Average loss: 0.0031, Accuracy: 531/557 (95.3321%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 74, internal_epoch   9,  Average loss: 0.0031, Accuracy: 525/557 (94.2549%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  19, local model 74, internal_epoch  10,  Average loss: 0.0027, Accuracy: 529/557 (94.9731%), train_poison_data_count: 180
Global model norm: 16.692022846527152.
Norm before scaling: 16.8497369491012. Distance: 3.839784515017104
Total norm for 4 adversaries is: 16.8497369491012. distance: 3.839784515017104
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 0.1233, Accuracy: 8505/8968 (94.8372%)
___Train Local_Simple,  epoch  19, local model 80, internal_epoch   1,  Average loss: 0.0011, Accuracy: 425/431 (98.6079%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.2112, Accuracy: 9375/10000 (93.7500%)
___Train Local_Simple,  epoch  19, local model 39, internal_epoch   1,  Average loss: 0.0013, Accuracy: 251/257 (97.6654%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.1584, Accuracy: 9461/10000 (94.6100%)
___Train Local_Simple,  epoch  19, local model 26, internal_epoch   1,  Average loss: 0.0017, Accuracy: 535/554 (96.5704%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.1353, Accuracy: 9580/10000 (95.8000%)
___Train Local_Simple,  epoch  19, local model 29, internal_epoch   1,  Average loss: 0.0013, Accuracy: 983/1002 (98.1038%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.2057, Accuracy: 9386/10000 (93.8600%)
___Train Local_Simple,  epoch  19, local model 4, internal_epoch   1,  Average loss: 0.0011, Accuracy: 644/658 (97.8723%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.1832, Accuracy: 9439/10000 (94.3900%)
___Train Local_Simple,  epoch  19, local model 42, internal_epoch   1,  Average loss: 0.0012, Accuracy: 231/236 (97.8814%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.1222, Accuracy: 9631/10000 (96.3100%)
time spent on training: 267.76420068740845
选中的训练者：[41, 73, 51, 74, 80, 39, 26, 29, 4, 42]
scores：[132.20839840057135, 498.8593079942109, 390.84796761025757, 552.8379594214802, 3.1653230573053612, 3.549301905488378, 5.138929809876925, 5.109793342266769, 4.074809619063424, 3.5563477059588635]
选中的聚合者：[39, 80, 42, 29, 26, 4, 41]
___Test Target_Simple poisoned: False, epoch: 19: Average loss: 0.0922, Accuracy: 9735/10000 (97.3500%)
___Test Target_Simple poisoned: True, epoch: 19: Average loss: 10.3248, Accuracy: 29/8968 (0.3234%)
Done in 278.07935643196106 sec.
Server Epoch:20 choose agents : [41, 73, 51, 74, 69, 95, 80, 8, 25, 68].
poison local model 41 index 0 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  20, local model 41, internal_epoch   1,  Average loss: 0.0158, Accuracy: 395/606 (65.1815%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 41, internal_epoch   2,  Average loss: 0.0122, Accuracy: 382/606 (63.0363%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 41, internal_epoch   3,  Average loss: 0.0107, Accuracy: 412/606 (67.9868%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 41, internal_epoch   4,  Average loss: 0.0103, Accuracy: 415/606 (68.4818%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 41, internal_epoch   5,  Average loss: 0.0101, Accuracy: 430/606 (70.9571%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 41, internal_epoch   6,  Average loss: 0.0100, Accuracy: 432/606 (71.2871%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 41, internal_epoch   7,  Average loss: 0.0099, Accuracy: 423/606 (69.8020%), train_poison_data_count: 200
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  20, local model 41, internal_epoch   8,  Average loss: 0.0099, Accuracy: 419/606 (69.1419%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 41, internal_epoch   9,  Average loss: 0.0096, Accuracy: 427/606 (70.4620%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 41, internal_epoch  10,  Average loss: 0.0100, Accuracy: 416/606 (68.6469%), train_poison_data_count: 200
Global model norm: 16.70944451167279.
Norm before scaling: 16.6273155034001. Distance: 2.4919442084972405
Total norm for 4 adversaries is: 16.6273155034001. distance: 2.4919442084972405
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.0688, Accuracy: 4713/8968 (52.5535%)
poison local model 73 index 1 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  20, local model 73, internal_epoch   1,  Average loss: 0.0213, Accuracy: 329/591 (55.6684%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 73, internal_epoch   2,  Average loss: 0.0168, Accuracy: 314/591 (53.1303%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 73, internal_epoch   3,  Average loss: 0.0149, Accuracy: 280/591 (47.3773%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 73, internal_epoch   4,  Average loss: 0.0142, Accuracy: 361/591 (61.0829%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 73, internal_epoch   5,  Average loss: 0.0135, Accuracy: 361/591 (61.0829%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 73, internal_epoch   6,  Average loss: 0.0139, Accuracy: 349/591 (59.0525%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 73, internal_epoch   7,  Average loss: 0.0130, Accuracy: 355/591 (60.0677%), train_poison_data_count: 195
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  20, local model 73, internal_epoch   8,  Average loss: 0.0128, Accuracy: 356/591 (60.2369%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 73, internal_epoch   9,  Average loss: 0.0127, Accuracy: 370/591 (62.6058%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 73, internal_epoch  10,  Average loss: 0.0122, Accuracy: 375/591 (63.4518%), train_poison_data_count: 195
Global model norm: 16.70944451167279.
Norm before scaling: 16.657170654961654. Distance: 3.040534675409199
Total norm for 4 adversaries is: 16.657170654961654. distance: 3.040534675409199
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 0.8937, Accuracy: 4647/8968 (51.8176%)
poison local model 51 index 2 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  20, local model 51, internal_epoch   1,  Average loss: 0.0216, Accuracy: 325/568 (57.2183%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 51, internal_epoch   2,  Average loss: 0.0132, Accuracy: 337/568 (59.3310%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 51, internal_epoch   3,  Average loss: 0.0115, Accuracy: 363/568 (63.9085%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 51, internal_epoch   4,  Average loss: 0.0103, Accuracy: 381/568 (67.0775%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 51, internal_epoch   5,  Average loss: 0.0104, Accuracy: 376/568 (66.1972%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 51, internal_epoch   6,  Average loss: 0.0099, Accuracy: 387/568 (68.1338%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 51, internal_epoch   7,  Average loss: 0.0097, Accuracy: 399/568 (70.2465%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  20, local model 51, internal_epoch   8,  Average loss: 0.0088, Accuracy: 420/568 (73.9437%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 51, internal_epoch   9,  Average loss: 0.0083, Accuracy: 417/568 (73.4155%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 51, internal_epoch  10,  Average loss: 0.0086, Accuracy: 416/568 (73.2394%), train_poison_data_count: 180
Global model norm: 16.70944451167279.
Norm before scaling: 16.859158688660983. Distance: 4.33065534640776
Total norm for 4 adversaries is: 16.859158688660983. distance: 4.33065534640776
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 0.5193, Accuracy: 7784/8968 (86.7975%)
poison local model 74 index 3 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  20, local model 74, internal_epoch   1,  Average loss: 0.0237, Accuracy: 312/557 (56.0144%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 74, internal_epoch   2,  Average loss: 0.0111, Accuracy: 386/557 (69.2998%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 74, internal_epoch   3,  Average loss: 0.0074, Accuracy: 465/557 (83.4829%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 74, internal_epoch   4,  Average loss: 0.0058, Accuracy: 480/557 (86.1759%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 74, internal_epoch   5,  Average loss: 0.0046, Accuracy: 512/557 (91.9210%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 74, internal_epoch   6,  Average loss: 0.0042, Accuracy: 509/557 (91.3824%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 74, internal_epoch   7,  Average loss: 0.0032, Accuracy: 528/557 (94.7935%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  20, local model 74, internal_epoch   8,  Average loss: 0.0028, Accuracy: 530/557 (95.1526%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 74, internal_epoch   9,  Average loss: 0.0028, Accuracy: 527/557 (94.6140%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  20, local model 74, internal_epoch  10,  Average loss: 0.0028, Accuracy: 525/557 (94.2549%), train_poison_data_count: 180
Global model norm: 16.70944451167279.
Norm before scaling: 16.933970854365032. Distance: 4.051235133081716
Total norm for 4 adversaries is: 16.933970854365032. distance: 4.051235133081716
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 0.1491, Accuracy: 8408/8968 (93.7556%)
___Train Local_Simple,  epoch  20, local model 69, internal_epoch   1,  Average loss: 0.0021, Accuracy: 248/256 (96.8750%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.1575, Accuracy: 9502/10000 (95.0200%)
___Train Local_Simple,  epoch  20, local model 95, internal_epoch   1,  Average loss: 0.0007, Accuracy: 594/602 (98.6711%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.9939, Accuracy: 7402/10000 (74.0200%)
___Train Local_Simple,  epoch  20, local model 80, internal_epoch   1,  Average loss: 0.0007, Accuracy: 425/431 (98.6079%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.1755, Accuracy: 9478/10000 (94.7800%)
___Train Local_Simple,  epoch  20, local model 8, internal_epoch   1,  Average loss: 0.0019, Accuracy: 611/633 (96.5245%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.2907, Accuracy: 9102/10000 (91.0200%)
___Train Local_Simple,  epoch  20, local model 25, internal_epoch   1,  Average loss: 0.0022, Accuracy: 623/647 (96.2906%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.3212, Accuracy: 8952/10000 (89.5200%)
___Train Local_Simple,  epoch  20, local model 68, internal_epoch   1,  Average loss: 0.0011, Accuracy: 484/494 (97.9757%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.1077, Accuracy: 9662/10000 (96.6200%)
time spent on training: 266.3746874332428
选中的训练者：[41, 73, 51, 74, 69, 95, 80, 8, 25, 68]
scores：[190.5778242231515, 247.53181648204838, 450.48907730880546, 548.5119562381243, 4.744957619641087, 6.367402586645564, 4.183164008745594, 5.986687123168759, 6.57707394549889, 4.1339709344740525]
选中的聚合者：[80, 68, 69, 8, 95, 25, 41]
___Test Target_Simple poisoned: False, epoch: 20: Average loss: 0.0946, Accuracy: 9712/10000 (97.1200%)
___Test Target_Simple poisoned: True, epoch: 20: Average loss: 10.2027, Accuracy: 32/8968 (0.3568%)
Done in 276.9605164527893 sec.
Server Epoch:21 choose agents : [41, 73, 51, 74, 70, 61, 64, 31, 10, 23].
poison local model 41 index 0 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  21, local model 41, internal_epoch   1,  Average loss: 0.0183, Accuracy: 361/606 (59.5710%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 41, internal_epoch   2,  Average loss: 0.0133, Accuracy: 372/606 (61.3861%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 41, internal_epoch   3,  Average loss: 0.0109, Accuracy: 419/606 (69.1419%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 41, internal_epoch   4,  Average loss: 0.0110, Accuracy: 415/606 (68.4818%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 41, internal_epoch   5,  Average loss: 0.0105, Accuracy: 418/606 (68.9769%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 41, internal_epoch   6,  Average loss: 0.0106, Accuracy: 417/606 (68.8119%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 41, internal_epoch   7,  Average loss: 0.0102, Accuracy: 428/606 (70.6271%), train_poison_data_count: 200
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  21, local model 41, internal_epoch   8,  Average loss: 0.0106, Accuracy: 419/606 (69.1419%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 41, internal_epoch   9,  Average loss: 0.0101, Accuracy: 417/606 (68.8119%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 41, internal_epoch  10,  Average loss: 0.0102, Accuracy: 418/606 (68.9769%), train_poison_data_count: 200
Global model norm: 16.72999767679676.
Norm before scaling: 16.659430395237106. Distance: 2.844229521512798
Total norm for 4 adversaries is: 16.659430395237106. distance: 2.844229521512798
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 0.7968, Accuracy: 6038/8968 (67.3283%)
poison local model 73 index 1 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  21, local model 73, internal_epoch   1,  Average loss: 0.0219, Accuracy: 341/591 (57.6988%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 73, internal_epoch   2,  Average loss: 0.0231, Accuracy: 265/591 (44.8393%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 73, internal_epoch   3,  Average loss: 0.0171, Accuracy: 245/591 (41.4552%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 73, internal_epoch   4,  Average loss: 0.0146, Accuracy: 359/591 (60.7445%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 73, internal_epoch   5,  Average loss: 0.0145, Accuracy: 352/591 (59.5601%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 73, internal_epoch   6,  Average loss: 0.0140, Accuracy: 360/591 (60.9137%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 73, internal_epoch   7,  Average loss: 0.0137, Accuracy: 349/591 (59.0525%), train_poison_data_count: 195
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  21, local model 73, internal_epoch   8,  Average loss: 0.0128, Accuracy: 372/591 (62.9442%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 73, internal_epoch   9,  Average loss: 0.0126, Accuracy: 373/591 (63.1134%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 73, internal_epoch  10,  Average loss: 0.0123, Accuracy: 377/591 (63.7902%), train_poison_data_count: 195
Global model norm: 16.72999767679676.
Norm before scaling: 16.750716009066785. Distance: 3.42985933955189
Total norm for 4 adversaries is: 16.750716009066785. distance: 3.42985933955189
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 0.8690, Accuracy: 5060/8968 (56.4228%)
poison local model 51 index 2 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  21, local model 51, internal_epoch   1,  Average loss: 0.0207, Accuracy: 335/568 (58.9789%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 51, internal_epoch   2,  Average loss: 0.0126, Accuracy: 339/568 (59.6831%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 51, internal_epoch   3,  Average loss: 0.0118, Accuracy: 381/568 (67.0775%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 51, internal_epoch   4,  Average loss: 0.0112, Accuracy: 371/568 (65.3169%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 51, internal_epoch   5,  Average loss: 0.0111, Accuracy: 368/568 (64.7887%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 51, internal_epoch   6,  Average loss: 0.0101, Accuracy: 385/568 (67.7817%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 51, internal_epoch   7,  Average loss: 0.0097, Accuracy: 407/568 (71.6549%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  21, local model 51, internal_epoch   8,  Average loss: 0.0096, Accuracy: 399/568 (70.2465%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 51, internal_epoch   9,  Average loss: 0.0093, Accuracy: 404/568 (71.1268%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 51, internal_epoch  10,  Average loss: 0.0090, Accuracy: 413/568 (72.7113%), train_poison_data_count: 180
Global model norm: 16.72999767679676.
Norm before scaling: 16.80295220730153. Distance: 3.8330553341003184
Total norm for 4 adversaries is: 16.80295220730153. distance: 3.8330553341003184
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 0.6230, Accuracy: 6719/8968 (74.9219%)
poison local model 74 index 3 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  21, local model 74, internal_epoch   1,  Average loss: 0.0249, Accuracy: 314/557 (56.3734%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 74, internal_epoch   2,  Average loss: 0.0124, Accuracy: 376/557 (67.5045%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 74, internal_epoch   3,  Average loss: 0.0073, Accuracy: 471/557 (84.5601%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 74, internal_epoch   4,  Average loss: 0.0061, Accuracy: 492/557 (88.3303%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 74, internal_epoch   5,  Average loss: 0.0054, Accuracy: 500/557 (89.7666%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 74, internal_epoch   6,  Average loss: 0.0042, Accuracy: 522/557 (93.7163%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 74, internal_epoch   7,  Average loss: 0.0034, Accuracy: 526/557 (94.4345%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  21, local model 74, internal_epoch   8,  Average loss: 0.0030, Accuracy: 524/557 (94.0754%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 74, internal_epoch   9,  Average loss: 0.0029, Accuracy: 531/557 (95.3321%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  21, local model 74, internal_epoch  10,  Average loss: 0.0028, Accuracy: 531/557 (95.3321%), train_poison_data_count: 180
Global model norm: 16.72999767679676.
Norm before scaling: 16.956378396065208. Distance: 4.3885367100625245
Total norm for 4 adversaries is: 16.956378396065208. distance: 4.3885367100625245
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 0.1255, Accuracy: 8499/8968 (94.7703%)
___Train Local_Simple,  epoch  21, local model 70, internal_epoch   1,  Average loss: 0.0024, Accuracy: 693/724 (95.7182%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.2641, Accuracy: 9131/10000 (91.3100%)
___Train Local_Simple,  epoch  21, local model 61, internal_epoch   1,  Average loss: 0.0017, Accuracy: 676/699 (96.7096%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.7521, Accuracy: 8649/10000 (86.4900%)
___Train Local_Simple,  epoch  21, local model 64, internal_epoch   1,  Average loss: 0.0018, Accuracy: 784/813 (96.4330%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.2793, Accuracy: 9026/10000 (90.2600%)
___Train Local_Simple,  epoch  21, local model 31, internal_epoch   1,  Average loss: 0.0018, Accuracy: 803/835 (96.1677%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.2885, Accuracy: 9151/10000 (91.5100%)
___Train Local_Simple,  epoch  21, local model 10, internal_epoch   1,  Average loss: 0.0015, Accuracy: 867/892 (97.1973%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.3082, Accuracy: 8991/10000 (89.9100%)
___Train Local_Simple,  epoch  21, local model 23, internal_epoch   1,  Average loss: 0.0008, Accuracy: 289/293 (98.6348%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.1420, Accuracy: 9548/10000 (95.4800%)
time spent on training: 267.0155396461487
选中的训练者：[41, 73, 51, 74, 70, 61, 64, 31, 10, 23]
scores：[224.68458886834344, 289.31057092751206, 348.1011951217606, 538.6958260101624, 10.346464003415505, 7.450136550913148, 6.728136326657831, 7.599490249243771, 6.214302847776162, 5.174712095162704]
选中的聚合者：[61, 23, 10, 31, 64, 70, 41]
___Test Target_Simple poisoned: False, epoch: 21: Average loss: 0.0965, Accuracy: 9715/10000 (97.1500%)
___Test Target_Simple poisoned: True, epoch: 21: Average loss: 10.0696, Accuracy: 28/8968 (0.3122%)
Done in 277.25510120391846 sec.
Server Epoch:22 choose agents : [41, 73, 51, 74, 7, 46, 65, 57, 83, 9].
poison local model 41 index 0 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  22, local model 41, internal_epoch   1,  Average loss: 0.0157, Accuracy: 398/606 (65.6766%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 41, internal_epoch   2,  Average loss: 0.0134, Accuracy: 360/606 (59.4059%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 41, internal_epoch   3,  Average loss: 0.0112, Accuracy: 422/606 (69.6370%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 41, internal_epoch   4,  Average loss: 0.0103, Accuracy: 444/606 (73.2673%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 41, internal_epoch   5,  Average loss: 0.0110, Accuracy: 407/606 (67.1617%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 41, internal_epoch   6,  Average loss: 0.0108, Accuracy: 414/606 (68.3168%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 41, internal_epoch   7,  Average loss: 0.0103, Accuracy: 422/606 (69.6370%), train_poison_data_count: 200
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  22, local model 41, internal_epoch   8,  Average loss: 0.0102, Accuracy: 417/606 (68.8119%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 41, internal_epoch   9,  Average loss: 0.0099, Accuracy: 424/606 (69.9670%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 41, internal_epoch  10,  Average loss: 0.0100, Accuracy: 419/606 (69.1419%), train_poison_data_count: 200
Global model norm: 16.74334037823649.
Norm before scaling: 16.648407254489186. Distance: 2.5557778740898067
Total norm for 4 adversaries is: 16.648407254489186. distance: 2.5557778740898067
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 0.9116, Accuracy: 4846/8968 (54.0366%)
poison local model 73 index 1 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  22, local model 73, internal_epoch   1,  Average loss: 0.0224, Accuracy: 355/591 (60.0677%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 73, internal_epoch   2,  Average loss: 0.0189, Accuracy: 304/591 (51.4382%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 73, internal_epoch   3,  Average loss: 0.0170, Accuracy: 289/591 (48.9002%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 73, internal_epoch   4,  Average loss: 0.0153, Accuracy: 366/591 (61.9289%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 73, internal_epoch   5,  Average loss: 0.0156, Accuracy: 325/591 (54.9915%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 73, internal_epoch   6,  Average loss: 0.0155, Accuracy: 284/591 (48.0541%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 73, internal_epoch   7,  Average loss: 0.0147, Accuracy: 336/591 (56.8528%), train_poison_data_count: 195
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  22, local model 73, internal_epoch   8,  Average loss: 0.0141, Accuracy: 338/591 (57.1912%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 73, internal_epoch   9,  Average loss: 0.0135, Accuracy: 349/591 (59.0525%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 73, internal_epoch  10,  Average loss: 0.0138, Accuracy: 341/591 (57.6988%), train_poison_data_count: 195
Global model norm: 16.74334037823649.
Norm before scaling: 16.782655681931907. Distance: 3.8859597543310036
Total norm for 4 adversaries is: 16.782655681931907. distance: 3.8859597543310036
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 0.7972, Accuracy: 6288/8968 (70.1160%)
poison local model 51 index 2 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  22, local model 51, internal_epoch   1,  Average loss: 0.0199, Accuracy: 351/568 (61.7958%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 51, internal_epoch   2,  Average loss: 0.0126, Accuracy: 352/568 (61.9718%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 51, internal_epoch   3,  Average loss: 0.0112, Accuracy: 390/568 (68.6620%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 51, internal_epoch   4,  Average loss: 0.0110, Accuracy: 384/568 (67.6056%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 51, internal_epoch   5,  Average loss: 0.0104, Accuracy: 389/568 (68.4859%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 51, internal_epoch   6,  Average loss: 0.0101, Accuracy: 397/568 (69.8944%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 51, internal_epoch   7,  Average loss: 0.0094, Accuracy: 402/568 (70.7746%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  22, local model 51, internal_epoch   8,  Average loss: 0.0088, Accuracy: 416/568 (73.2394%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 51, internal_epoch   9,  Average loss: 0.0079, Accuracy: 447/568 (78.6972%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 51, internal_epoch  10,  Average loss: 0.0081, Accuracy: 450/568 (79.2254%), train_poison_data_count: 180
Global model norm: 16.74334037823649.
Norm before scaling: 16.81444938164234. Distance: 3.990666825830329
Total norm for 4 adversaries is: 16.81444938164234. distance: 3.990666825830329
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 0.4147, Accuracy: 8330/8968 (92.8858%)
poison local model 74 index 3 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  22, local model 74, internal_epoch   1,  Average loss: 0.0236, Accuracy: 324/557 (58.1688%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 74, internal_epoch   2,  Average loss: 0.0123, Accuracy: 381/557 (68.4022%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 74, internal_epoch   3,  Average loss: 0.0080, Accuracy: 453/557 (81.3285%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 74, internal_epoch   4,  Average loss: 0.0065, Accuracy: 466/557 (83.6625%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 74, internal_epoch   5,  Average loss: 0.0054, Accuracy: 493/557 (88.5099%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 74, internal_epoch   6,  Average loss: 0.0046, Accuracy: 514/557 (92.2801%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 74, internal_epoch   7,  Average loss: 0.0036, Accuracy: 522/557 (93.7163%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  22, local model 74, internal_epoch   8,  Average loss: 0.0032, Accuracy: 524/557 (94.0754%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 74, internal_epoch   9,  Average loss: 0.0033, Accuracy: 521/557 (93.5368%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  22, local model 74, internal_epoch  10,  Average loss: 0.0031, Accuracy: 526/557 (94.4345%), train_poison_data_count: 180
Global model norm: 16.74334037823649.
Norm before scaling: 16.920319461917952. Distance: 4.153617082295021
Total norm for 4 adversaries is: 16.920319461917952. distance: 4.153617082295021
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 0.1105, Accuracy: 8574/8968 (95.6066%)
___Train Local_Simple,  epoch  22, local model 7, internal_epoch   1,  Average loss: 0.0015, Accuracy: 409/418 (97.8469%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 0.1302, Accuracy: 9607/10000 (96.0700%)
___Train Local_Simple,  epoch  22, local model 46, internal_epoch   1,  Average loss: 0.0027, Accuracy: 687/710 (96.7606%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 0.9061, Accuracy: 7735/10000 (77.3500%)
___Train Local_Simple,  epoch  22, local model 65, internal_epoch   1,  Average loss: 0.0009, Accuracy: 364/371 (98.1132%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 0.2365, Accuracy: 9236/10000 (92.3600%)
___Train Local_Simple,  epoch  22, local model 57, internal_epoch   1,  Average loss: 0.0024, Accuracy: 320/343 (93.2945%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 0.3401, Accuracy: 9032/10000 (90.3200%)
___Train Local_Simple,  epoch  22, local model 83, internal_epoch   1,  Average loss: 0.0015, Accuracy: 421/433 (97.2286%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 0.1622, Accuracy: 9476/10000 (94.7600%)
___Train Local_Simple,  epoch  22, local model 9, internal_epoch   1,  Average loss: 0.0012, Accuracy: 427/436 (97.9358%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 0.1018, Accuracy: 9680/10000 (96.8000%)
time spent on training: 265.8235173225403
选中的训练者：[41, 73, 51, 74, 7, 46, 65, 57, 83, 9]
scores：[238.65946404341076, 391.20471893106287, 384.8075056233656, 606.9564737783003, 15.612685393403899, 54.23969762254683, 14.724252001760416, 19.811379272136328, 15.850478381188681, 15.986811205542777]
选中的聚合者：[65, 7, 83, 9, 46, 57, 41]
___Test Target_Simple poisoned: False, epoch: 22: Average loss: 0.1087, Accuracy: 9668/10000 (96.6800%)
___Test Target_Simple poisoned: True, epoch: 22: Average loss: 9.7653, Accuracy: 41/8968 (0.4572%)
Done in 276.3087375164032 sec.
Server Epoch:23 choose agents : [41, 73, 51, 74, 64, 58, 12, 83, 96, 90].
poison local model 41 index 0 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  23, local model 41, internal_epoch   1,  Average loss: 0.0151, Accuracy: 406/606 (66.9967%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 41, internal_epoch   2,  Average loss: 0.0123, Accuracy: 385/606 (63.5314%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 41, internal_epoch   3,  Average loss: 0.0111, Accuracy: 411/606 (67.8218%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 41, internal_epoch   4,  Average loss: 0.0106, Accuracy: 405/606 (66.8317%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 41, internal_epoch   5,  Average loss: 0.0104, Accuracy: 418/606 (68.9769%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 41, internal_epoch   6,  Average loss: 0.0101, Accuracy: 423/606 (69.8020%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 41, internal_epoch   7,  Average loss: 0.0098, Accuracy: 427/606 (70.4620%), train_poison_data_count: 200
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  23, local model 41, internal_epoch   8,  Average loss: 0.0097, Accuracy: 436/606 (71.9472%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 41, internal_epoch   9,  Average loss: 0.0100, Accuracy: 420/606 (69.3069%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 41, internal_epoch  10,  Average loss: 0.0100, Accuracy: 421/606 (69.4719%), train_poison_data_count: 200
Global model norm: 16.773942375669044.
Norm before scaling: 16.639312778367024. Distance: 2.466312508890552
Total norm for 4 adversaries is: 16.639312778367024. distance: 2.466312508890552
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 0.8368, Accuracy: 5553/8968 (61.9202%)
poison local model 73 index 1 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  23, local model 73, internal_epoch   1,  Average loss: 0.0206, Accuracy: 347/591 (58.7140%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 73, internal_epoch   2,  Average loss: 0.0236, Accuracy: 281/591 (47.5465%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 73, internal_epoch   3,  Average loss: 0.0219, Accuracy: 215/591 (36.3790%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 73, internal_epoch   4,  Average loss: 0.0176, Accuracy: 336/591 (56.8528%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 73, internal_epoch   5,  Average loss: 0.0155, Accuracy: 343/591 (58.0372%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 73, internal_epoch   6,  Average loss: 0.0150, Accuracy: 320/591 (54.1455%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 73, internal_epoch   7,  Average loss: 0.0149, Accuracy: 321/591 (54.3147%), train_poison_data_count: 195
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  23, local model 73, internal_epoch   8,  Average loss: 0.0138, Accuracy: 348/591 (58.8832%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 73, internal_epoch   9,  Average loss: 0.0134, Accuracy: 349/591 (59.0525%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 73, internal_epoch  10,  Average loss: 0.0130, Accuracy: 364/591 (61.5905%), train_poison_data_count: 195
Global model norm: 16.773942375669044.
Norm before scaling: 16.805634525558403. Distance: 3.6807047415833773
Total norm for 4 adversaries is: 16.805634525558403. distance: 3.6807047415833773
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 0.9155, Accuracy: 5606/8968 (62.5112%)
poison local model 51 index 2 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  23, local model 51, internal_epoch   1,  Average loss: 0.0215, Accuracy: 335/568 (58.9789%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 51, internal_epoch   2,  Average loss: 0.0120, Accuracy: 388/568 (68.3099%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 51, internal_epoch   3,  Average loss: 0.0112, Accuracy: 385/568 (67.7817%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 51, internal_epoch   4,  Average loss: 0.0107, Accuracy: 389/568 (68.4859%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 51, internal_epoch   5,  Average loss: 0.0098, Accuracy: 396/568 (69.7183%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 51, internal_epoch   6,  Average loss: 0.0102, Accuracy: 387/568 (68.1338%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 51, internal_epoch   7,  Average loss: 0.0096, Accuracy: 405/568 (71.3028%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  23, local model 51, internal_epoch   8,  Average loss: 0.0089, Accuracy: 406/568 (71.4789%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 51, internal_epoch   9,  Average loss: 0.0090, Accuracy: 407/568 (71.6549%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 51, internal_epoch  10,  Average loss: 0.0090, Accuracy: 404/568 (71.1268%), train_poison_data_count: 180
Global model norm: 16.773942375669044.
Norm before scaling: 16.935848591945337. Distance: 4.19924759256083
Total norm for 4 adversaries is: 16.935848591945337. distance: 4.19924759256083
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 0.6614, Accuracy: 6492/8968 (72.3907%)
poison local model 74 index 3 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  23, local model 74, internal_epoch   1,  Average loss: 0.0213, Accuracy: 331/557 (59.4255%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 74, internal_epoch   2,  Average loss: 0.0113, Accuracy: 400/557 (71.8133%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 74, internal_epoch   3,  Average loss: 0.0067, Accuracy: 463/557 (83.1239%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 74, internal_epoch   4,  Average loss: 0.0056, Accuracy: 486/557 (87.2531%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 74, internal_epoch   5,  Average loss: 0.0046, Accuracy: 509/557 (91.3824%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 74, internal_epoch   6,  Average loss: 0.0038, Accuracy: 523/557 (93.8959%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 74, internal_epoch   7,  Average loss: 0.0035, Accuracy: 522/557 (93.7163%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  23, local model 74, internal_epoch   8,  Average loss: 0.0028, Accuracy: 529/557 (94.9731%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 74, internal_epoch   9,  Average loss: 0.0025, Accuracy: 534/557 (95.8707%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  23, local model 74, internal_epoch  10,  Average loss: 0.0027, Accuracy: 529/557 (94.9731%), train_poison_data_count: 180
Global model norm: 16.773942375669044.
Norm before scaling: 16.880552833507668. Distance: 3.7327549185449325
Total norm for 4 adversaries is: 16.880552833507668. distance: 3.7327549185449325
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 0.1355, Accuracy: 8445/8968 (94.1682%)
___Train Local_Simple,  epoch  23, local model 64, internal_epoch   1,  Average loss: 0.0018, Accuracy: 788/813 (96.9250%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.3283, Accuracy: 8970/10000 (89.7000%)
___Train Local_Simple,  epoch  23, local model 58, internal_epoch   1,  Average loss: 0.0021, Accuracy: 268/276 (97.1014%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.1309, Accuracy: 9611/10000 (96.1100%)
___Train Local_Simple,  epoch  23, local model 12, internal_epoch   1,  Average loss: 0.0017, Accuracy: 1123/1160 (96.8103%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.1586, Accuracy: 9494/10000 (94.9400%)
___Train Local_Simple,  epoch  23, local model 83, internal_epoch   1,  Average loss: 0.0016, Accuracy: 422/433 (97.4596%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.1361, Accuracy: 9579/10000 (95.7900%)
___Train Local_Simple,  epoch  23, local model 96, internal_epoch   1,  Average loss: 0.0014, Accuracy: 652/672 (97.0238%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.1432, Accuracy: 9602/10000 (96.0200%)
___Train Local_Simple,  epoch  23, local model 90, internal_epoch   1,  Average loss: 0.0019, Accuracy: 661/683 (96.7789%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.3841, Accuracy: 8785/10000 (87.8500%)
time spent on training: 266.7158043384552
选中的训练者：[41, 73, 51, 74, 64, 58, 12, 83, 96, 90]
scores：[175.4561117187271, 587.0482427680316, 350.79484648452393, 562.9316808088104, 7.945735427953202, 6.874201108641007, 7.024827981887351, 4.934773589360118, 5.397917137742148, 6.479013243863245]
选中的聚合者：[58, 90, 96, 83, 12, 64, 41]
___Test Target_Simple poisoned: False, epoch: 23: Average loss: 0.1071, Accuracy: 9683/10000 (96.8300%)
___Test Target_Simple poisoned: True, epoch: 23: Average loss: 9.8055, Accuracy: 38/8968 (0.4237%)
Done in 277.22230887413025 sec.
Server Epoch:24 choose agents : [41, 73, 51, 74, 28, 65, 33, 75, 13, 32].
poison local model 41 index 0 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  24, local model 41, internal_epoch   1,  Average loss: 0.0152, Accuracy: 397/606 (65.5116%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 41, internal_epoch   2,  Average loss: 0.0116, Accuracy: 373/606 (61.5512%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 41, internal_epoch   3,  Average loss: 0.0112, Accuracy: 373/606 (61.5512%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 41, internal_epoch   4,  Average loss: 0.0108, Accuracy: 411/606 (67.8218%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 41, internal_epoch   5,  Average loss: 0.0105, Accuracy: 411/606 (67.8218%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 41, internal_epoch   6,  Average loss: 0.0103, Accuracy: 421/606 (69.4719%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 41, internal_epoch   7,  Average loss: 0.0101, Accuracy: 419/606 (69.1419%), train_poison_data_count: 200
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  24, local model 41, internal_epoch   8,  Average loss: 0.0100, Accuracy: 414/606 (68.3168%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 41, internal_epoch   9,  Average loss: 0.0098, Accuracy: 427/606 (70.4620%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 41, internal_epoch  10,  Average loss: 0.0102, Accuracy: 426/606 (70.2970%), train_poison_data_count: 200
Global model norm: 16.791702510268557.
Norm before scaling: 16.67600680261493. Distance: 2.496577781585592
Total norm for 4 adversaries is: 16.67600680261493. distance: 2.496577781585592
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 0.8301, Accuracy: 5678/8968 (63.3140%)
poison local model 73 index 1 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  24, local model 73, internal_epoch   1,  Average loss: 0.0225, Accuracy: 361/591 (61.0829%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 73, internal_epoch   2,  Average loss: 0.0212, Accuracy: 284/591 (48.0541%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 73, internal_epoch   3,  Average loss: 0.0189, Accuracy: 344/591 (58.2064%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 73, internal_epoch   4,  Average loss: 0.0158, Accuracy: 341/591 (57.6988%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 73, internal_epoch   5,  Average loss: 0.0141, Accuracy: 334/591 (56.5144%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 73, internal_epoch   6,  Average loss: 0.0143, Accuracy: 320/591 (54.1455%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 73, internal_epoch   7,  Average loss: 0.0133, Accuracy: 352/591 (59.5601%), train_poison_data_count: 195
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  24, local model 73, internal_epoch   8,  Average loss: 0.0131, Accuracy: 358/591 (60.5753%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 73, internal_epoch   9,  Average loss: 0.0127, Accuracy: 369/591 (62.4365%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 73, internal_epoch  10,  Average loss: 0.0128, Accuracy: 368/591 (62.2673%), train_poison_data_count: 195
Global model norm: 16.791702510268557.
Norm before scaling: 16.908061327124315. Distance: 3.8895607837145265
Total norm for 4 adversaries is: 16.908061327124315. distance: 3.8895607837145265
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 0.8802, Accuracy: 4967/8968 (55.3858%)
poison local model 51 index 2 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  24, local model 51, internal_epoch   1,  Average loss: 0.0212, Accuracy: 331/568 (58.2746%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 51, internal_epoch   2,  Average loss: 0.0125, Accuracy: 381/568 (67.0775%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 51, internal_epoch   3,  Average loss: 0.0115, Accuracy: 390/568 (68.6620%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 51, internal_epoch   4,  Average loss: 0.0116, Accuracy: 376/568 (66.1972%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 51, internal_epoch   5,  Average loss: 0.0108, Accuracy: 387/568 (68.1338%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 51, internal_epoch   6,  Average loss: 0.0109, Accuracy: 382/568 (67.2535%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 51, internal_epoch   7,  Average loss: 0.0107, Accuracy: 378/568 (66.5493%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  24, local model 51, internal_epoch   8,  Average loss: 0.0098, Accuracy: 403/568 (70.9507%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 51, internal_epoch   9,  Average loss: 0.0102, Accuracy: 382/568 (67.2535%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 51, internal_epoch  10,  Average loss: 0.0097, Accuracy: 389/568 (68.4859%), train_poison_data_count: 180
Global model norm: 16.791702510268557.
Norm before scaling: 16.81639127830344. Distance: 3.949531942715278
Total norm for 4 adversaries is: 16.81639127830344. distance: 3.949531942715278
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 0.5372, Accuracy: 7649/8968 (85.2921%)
poison local model 74 index 3 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  24, local model 74, internal_epoch   1,  Average loss: 0.0221, Accuracy: 326/557 (58.5278%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 74, internal_epoch   2,  Average loss: 0.0118, Accuracy: 381/557 (68.4022%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 74, internal_epoch   3,  Average loss: 0.0076, Accuracy: 449/557 (80.6104%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 74, internal_epoch   4,  Average loss: 0.0062, Accuracy: 475/557 (85.2783%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 74, internal_epoch   5,  Average loss: 0.0048, Accuracy: 500/557 (89.7666%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 74, internal_epoch   6,  Average loss: 0.0040, Accuracy: 520/557 (93.3573%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 74, internal_epoch   7,  Average loss: 0.0036, Accuracy: 520/557 (93.3573%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  24, local model 74, internal_epoch   8,  Average loss: 0.0030, Accuracy: 530/557 (95.1526%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 74, internal_epoch   9,  Average loss: 0.0026, Accuracy: 528/557 (94.7935%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  24, local model 74, internal_epoch  10,  Average loss: 0.0027, Accuracy: 526/557 (94.4345%), train_poison_data_count: 180
Global model norm: 16.791702510268557.
Norm before scaling: 16.930048017619626. Distance: 3.982519218748072
Total norm for 4 adversaries is: 16.930048017619626. distance: 3.982519218748072
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 0.1535, Accuracy: 8364/8968 (93.2649%)
___Train Local_Simple,  epoch  24, local model 28, internal_epoch   1,  Average loss: 0.0015, Accuracy: 487/501 (97.2056%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.1060, Accuracy: 9660/10000 (96.6000%)
___Train Local_Simple,  epoch  24, local model 65, internal_epoch   1,  Average loss: 0.0008, Accuracy: 367/371 (98.9218%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.1235, Accuracy: 9611/10000 (96.1100%)
___Train Local_Simple,  epoch  24, local model 33, internal_epoch   1,  Average loss: 0.0021, Accuracy: 602/623 (96.6292%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.1776, Accuracy: 9460/10000 (94.6000%)
___Train Local_Simple,  epoch  24, local model 75, internal_epoch   1,  Average loss: 0.0016, Accuracy: 662/686 (96.5015%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.1556, Accuracy: 9478/10000 (94.7800%)
___Train Local_Simple,  epoch  24, local model 13, internal_epoch   1,  Average loss: 0.0010, Accuracy: 721/734 (98.2289%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.4488, Accuracy: 8831/10000 (88.3100%)
___Train Local_Simple,  epoch  24, local model 32, internal_epoch   1,  Average loss: 0.0025, Accuracy: 938/977 (96.0082%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.1704, Accuracy: 9478/10000 (94.7800%)
time spent on training: 270.0633399486542
选中的训练者：[41, 73, 51, 74, 28, 65, 33, 75, 13, 32]
scores：[228.4222190636596, 741.2274384262897, 362.4568306213853, 627.0166487774346, 5.749696939444892, 4.706910337605371, 6.187554732974841, 5.879844702648915, 5.925244353561018, 9.255336213591844]
选中的聚合者：[65, 28, 13, 75, 33, 32, 41]
___Test Target_Simple poisoned: False, epoch: 24: Average loss: 0.1004, Accuracy: 9701/10000 (97.0100%)
___Test Target_Simple poisoned: True, epoch: 24: Average loss: 9.9238, Accuracy: 35/8968 (0.3903%)
Done in 280.2590301036835 sec.
Server Epoch:25 choose agents : [41, 73, 51, 74, 80, 23, 25, 12, 58, 19].
poison local model 41 index 0 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  25, local model 41, internal_epoch   1,  Average loss: 0.0169, Accuracy: 380/606 (62.7063%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 41, internal_epoch   2,  Average loss: 0.0138, Accuracy: 357/606 (58.9109%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 41, internal_epoch   3,  Average loss: 0.0117, Accuracy: 404/606 (66.6667%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 41, internal_epoch   4,  Average loss: 0.0109, Accuracy: 420/606 (69.3069%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 41, internal_epoch   5,  Average loss: 0.0104, Accuracy: 416/606 (68.6469%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 41, internal_epoch   6,  Average loss: 0.0108, Accuracy: 402/606 (66.3366%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 41, internal_epoch   7,  Average loss: 0.0101, Accuracy: 420/606 (69.3069%), train_poison_data_count: 200
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  25, local model 41, internal_epoch   8,  Average loss: 0.0099, Accuracy: 427/606 (70.4620%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 41, internal_epoch   9,  Average loss: 0.0101, Accuracy: 419/606 (69.1419%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 41, internal_epoch  10,  Average loss: 0.0099, Accuracy: 422/606 (69.6370%), train_poison_data_count: 200
Global model norm: 16.806824814686518.
Norm before scaling: 16.708658242178103. Distance: 2.762330587724595
Total norm for 4 adversaries is: 16.708658242178103. distance: 2.762330587724595
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 0.7681, Accuracy: 6284/8968 (70.0714%)
poison local model 73 index 1 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  25, local model 73, internal_epoch   1,  Average loss: 0.0231, Accuracy: 343/591 (58.0372%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 73, internal_epoch   2,  Average loss: 0.0177, Accuracy: 290/591 (49.0694%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 73, internal_epoch   3,  Average loss: 0.0173, Accuracy: 257/591 (43.4856%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 73, internal_epoch   4,  Average loss: 0.0152, Accuracy: 343/591 (58.0372%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 73, internal_epoch   5,  Average loss: 0.0144, Accuracy: 347/591 (58.7140%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 73, internal_epoch   6,  Average loss: 0.0144, Accuracy: 326/591 (55.1607%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 73, internal_epoch   7,  Average loss: 0.0143, Accuracy: 327/591 (55.3299%), train_poison_data_count: 195
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  25, local model 73, internal_epoch   8,  Average loss: 0.0135, Accuracy: 348/591 (58.8832%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 73, internal_epoch   9,  Average loss: 0.0131, Accuracy: 362/591 (61.2521%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 73, internal_epoch  10,  Average loss: 0.0131, Accuracy: 354/591 (59.8985%), train_poison_data_count: 195
Global model norm: 16.806824814686518.
Norm before scaling: 16.76196772493369. Distance: 3.4324984143302792
Total norm for 4 adversaries is: 16.76196772493369. distance: 3.4324984143302792
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 0.8251, Accuracy: 5563/8968 (62.0317%)
poison local model 51 index 2 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  25, local model 51, internal_epoch   1,  Average loss: 0.0217, Accuracy: 330/568 (58.0986%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 51, internal_epoch   2,  Average loss: 0.0127, Accuracy: 370/568 (65.1408%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 51, internal_epoch   3,  Average loss: 0.0117, Accuracy: 364/568 (64.0845%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 51, internal_epoch   4,  Average loss: 0.0113, Accuracy: 366/568 (64.4366%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 51, internal_epoch   5,  Average loss: 0.0104, Accuracy: 400/568 (70.4225%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 51, internal_epoch   6,  Average loss: 0.0103, Accuracy: 394/568 (69.3662%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 51, internal_epoch   7,  Average loss: 0.0102, Accuracy: 390/568 (68.6620%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  25, local model 51, internal_epoch   8,  Average loss: 0.0096, Accuracy: 397/568 (69.8944%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 51, internal_epoch   9,  Average loss: 0.0091, Accuracy: 408/568 (71.8310%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 51, internal_epoch  10,  Average loss: 0.0090, Accuracy: 417/568 (73.4155%), train_poison_data_count: 180
Global model norm: 16.806824814686518.
Norm before scaling: 16.841532205569955. Distance: 3.85836012620185
Total norm for 4 adversaries is: 16.841532205569955. distance: 3.85836012620185
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 0.6314, Accuracy: 6734/8968 (75.0892%)
poison local model 74 index 3 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  25, local model 74, internal_epoch   1,  Average loss: 0.0242, Accuracy: 317/557 (56.9120%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 74, internal_epoch   2,  Average loss: 0.0135, Accuracy: 350/557 (62.8366%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 74, internal_epoch   3,  Average loss: 0.0083, Accuracy: 452/557 (81.1490%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 74, internal_epoch   4,  Average loss: 0.0070, Accuracy: 463/557 (83.1239%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 74, internal_epoch   5,  Average loss: 0.0058, Accuracy: 485/557 (87.0736%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 74, internal_epoch   6,  Average loss: 0.0052, Accuracy: 500/557 (89.7666%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 74, internal_epoch   7,  Average loss: 0.0042, Accuracy: 517/557 (92.8187%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  25, local model 74, internal_epoch   8,  Average loss: 0.0038, Accuracy: 524/557 (94.0754%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 74, internal_epoch   9,  Average loss: 0.0030, Accuracy: 532/557 (95.5117%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  25, local model 74, internal_epoch  10,  Average loss: 0.0031, Accuracy: 528/557 (94.7935%), train_poison_data_count: 180
Global model norm: 16.806824814686518.
Norm before scaling: 17.03574786507084. Distance: 4.525161757133402
Total norm for 4 adversaries is: 17.03574786507084. distance: 4.525161757133402
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 0.1385, Accuracy: 8486/8968 (94.6253%)
___Train Local_Simple,  epoch  25, local model 80, internal_epoch   1,  Average loss: 0.0008, Accuracy: 425/431 (98.6079%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.2348, Accuracy: 9332/10000 (93.3200%)
___Train Local_Simple,  epoch  25, local model 23, internal_epoch   1,  Average loss: 0.0008, Accuracy: 288/293 (98.2935%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.2397, Accuracy: 9265/10000 (92.6500%)
___Train Local_Simple,  epoch  25, local model 25, internal_epoch   1,  Average loss: 0.0023, Accuracy: 616/647 (95.2087%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.3211, Accuracy: 8918/10000 (89.1800%)
___Train Local_Simple,  epoch  25, local model 12, internal_epoch   1,  Average loss: 0.0020, Accuracy: 1118/1160 (96.3793%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.1944, Accuracy: 9373/10000 (93.7300%)
___Train Local_Simple,  epoch  25, local model 58, internal_epoch   1,  Average loss: 0.0030, Accuracy: 265/276 (96.0145%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.1329, Accuracy: 9611/10000 (96.1100%)
___Train Local_Simple,  epoch  25, local model 19, internal_epoch   1,  Average loss: 0.0028, Accuracy: 196/205 (95.6098%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.6833, Accuracy: 8415/10000 (84.1500%)
time spent on training: 262.68060064315796
选中的训练者：[41, 73, 51, 74, 80, 23, 25, 12, 58, 19]
scores：[197.28127622436017, 436.85737831920574, 317.32334116691044, 729.8671290051502, 8.181978316774323, 8.31421805234281, 9.079027411847866, 10.250982823322605, 13.966635128754056, 15.690253339235072]
选中的聚合者：[23, 80, 58, 12, 25, 19, 41]
___Test Target_Simple poisoned: False, epoch: 25: Average loss: 0.0959, Accuracy: 9719/10000 (97.1900%)
___Test Target_Simple poisoned: True, epoch: 25: Average loss: 9.5652, Accuracy: 47/8968 (0.5241%)
Done in 272.96807312965393 sec.
Server Epoch:26 choose agents : [41, 73, 51, 74, 11, 13, 82, 50, 34, 14].
poison local model 41 index 0 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  26, local model 41, internal_epoch   1,  Average loss: 0.0160, Accuracy: 395/606 (65.1815%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 41, internal_epoch   2,  Average loss: 0.0125, Accuracy: 382/606 (63.0363%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 41, internal_epoch   3,  Average loss: 0.0128, Accuracy: 304/606 (50.1650%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 41, internal_epoch   4,  Average loss: 0.0108, Accuracy: 410/606 (67.6568%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 41, internal_epoch   5,  Average loss: 0.0112, Accuracy: 410/606 (67.6568%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 41, internal_epoch   6,  Average loss: 0.0106, Accuracy: 412/606 (67.9868%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 41, internal_epoch   7,  Average loss: 0.0108, Accuracy: 406/606 (66.9967%), train_poison_data_count: 200
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  26, local model 41, internal_epoch   8,  Average loss: 0.0104, Accuracy: 408/606 (67.3267%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 41, internal_epoch   9,  Average loss: 0.0104, Accuracy: 406/606 (66.9967%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 41, internal_epoch  10,  Average loss: 0.0102, Accuracy: 415/606 (68.4818%), train_poison_data_count: 200
Global model norm: 16.83617948636999.
Norm before scaling: 16.729209636983004. Distance: 2.685719365909375
Total norm for 4 adversaries is: 16.729209636983004. distance: 2.685719365909375
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 0.8488, Accuracy: 5935/8968 (66.1798%)
poison local model 73 index 1 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  26, local model 73, internal_epoch   1,  Average loss: 0.0232, Accuracy: 324/591 (54.8223%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 73, internal_epoch   2,  Average loss: 0.0196, Accuracy: 288/591 (48.7310%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 73, internal_epoch   3,  Average loss: 0.0182, Accuracy: 317/591 (53.6379%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 73, internal_epoch   4,  Average loss: 0.0145, Accuracy: 364/591 (61.5905%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 73, internal_epoch   5,  Average loss: 0.0138, Accuracy: 346/591 (58.5448%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 73, internal_epoch   6,  Average loss: 0.0139, Accuracy: 337/591 (57.0220%), train_poison_data_count: 195
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 73, internal_epoch   7,  Average loss: 0.0134, Accuracy: 371/591 (62.7750%), train_poison_data_count: 195
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  26, local model 73, internal_epoch   8,  Average loss: 0.0129, Accuracy: 362/591 (61.2521%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 73, internal_epoch   9,  Average loss: 0.0130, Accuracy: 350/591 (59.2217%), train_poison_data_count: 195
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 73, internal_epoch  10,  Average loss: 0.0128, Accuracy: 367/591 (62.0981%), train_poison_data_count: 195
Global model norm: 16.83617948636999.
Norm before scaling: 16.82406592759127. Distance: 3.6544984713984507
Total norm for 4 adversaries is: 16.82406592759127. distance: 3.6544984713984507
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 0.8131, Accuracy: 5239/8968 (58.4188%)
poison local model 51 index 2 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  26, local model 51, internal_epoch   1,  Average loss: 0.0218, Accuracy: 341/568 (60.0352%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 51, internal_epoch   2,  Average loss: 0.0131, Accuracy: 349/568 (61.4437%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 51, internal_epoch   3,  Average loss: 0.0113, Accuracy: 392/568 (69.0141%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 51, internal_epoch   4,  Average loss: 0.0113, Accuracy: 380/568 (66.9014%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 51, internal_epoch   5,  Average loss: 0.0110, Accuracy: 373/568 (65.6690%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 51, internal_epoch   6,  Average loss: 0.0105, Accuracy: 384/568 (67.6056%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 51, internal_epoch   7,  Average loss: 0.0098, Accuracy: 400/568 (70.4225%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  26, local model 51, internal_epoch   8,  Average loss: 0.0096, Accuracy: 393/568 (69.1901%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 51, internal_epoch   9,  Average loss: 0.0095, Accuracy: 396/568 (69.7183%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 51, internal_epoch  10,  Average loss: 0.0091, Accuracy: 401/568 (70.5986%), train_poison_data_count: 180
Global model norm: 16.83617948636999.
Norm before scaling: 16.99580331500296. Distance: 4.464267643483236
Total norm for 4 adversaries is: 16.99580331500296. distance: 4.464267643483236
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 0.6078, Accuracy: 6823/8968 (76.0816%)
poison local model 74 index 3 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  26, local model 74, internal_epoch   1,  Average loss: 0.0234, Accuracy: 327/557 (58.7074%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 74, internal_epoch   2,  Average loss: 0.0126, Accuracy: 359/557 (64.4524%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 74, internal_epoch   3,  Average loss: 0.0089, Accuracy: 441/557 (79.1741%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 74, internal_epoch   4,  Average loss: 0.0073, Accuracy: 471/557 (84.5601%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 74, internal_epoch   5,  Average loss: 0.0059, Accuracy: 497/557 (89.2280%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 74, internal_epoch   6,  Average loss: 0.0048, Accuracy: 512/557 (91.9210%), train_poison_data_count: 180
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 74, internal_epoch   7,  Average loss: 0.0040, Accuracy: 513/557 (92.1005%), train_poison_data_count: 180
Current lr: [5.0000000000000016e-05]
___PoisonTrain Local_Simple ,  epoch  26, local model 74, internal_epoch   8,  Average loss: 0.0036, Accuracy: 520/557 (93.3573%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 74, internal_epoch   9,  Average loss: 0.0032, Accuracy: 518/557 (92.9982%), train_poison_data_count: 180
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  26, local model 74, internal_epoch  10,  Average loss: 0.0029, Accuracy: 528/557 (94.7935%), train_poison_data_count: 180
Global model norm: 16.83617948636999.
Norm before scaling: 16.97846698216459. Distance: 4.0508876628380595
Total norm for 4 adversaries is: 16.97846698216459. distance: 4.0508876628380595
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 0.1611, Accuracy: 8329/8968 (92.8747%)
___Train Local_Simple,  epoch  26, local model 11, internal_epoch   1,  Average loss: 0.0015, Accuracy: 630/645 (97.6744%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.2979, Accuracy: 9037/10000 (90.3700%)
___Train Local_Simple,  epoch  26, local model 13, internal_epoch   1,  Average loss: 0.0011, Accuracy: 717/734 (97.6839%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.3712, Accuracy: 8965/10000 (89.6500%)
___Train Local_Simple,  epoch  26, local model 82, internal_epoch   1,  Average loss: 0.0017, Accuracy: 696/713 (97.6157%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.7567, Accuracy: 8204/10000 (82.0400%)
___Train Local_Simple,  epoch  26, local model 50, internal_epoch   1,  Average loss: 0.0025, Accuracy: 452/474 (95.3586%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.3975, Accuracy: 8728/10000 (87.2800%)
___Train Local_Simple,  epoch  26, local model 34, internal_epoch   1,  Average loss: 0.0006, Accuracy: 407/413 (98.5472%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.2512, Accuracy: 9356/10000 (93.5600%)
___Train Local_Simple,  epoch  26, local model 14, internal_epoch   1,  Average loss: 0.0016, Accuracy: 363/376 (96.5426%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.1381, Accuracy: 9577/10000 (95.7700%)
time spent on training: 270.1236834526062
选中的训练者：[41, 73, 51, 74, 11, 13, 82, 50, 34, 14]
scores：[164.73755237607708, 391.55330161437007, 381.30145073724464, 670.8274158598022, 6.809968858671885, 7.465388586772692, 8.082204444894131, 6.478713538960555, 5.99552599176061, 7.849828944016896]
选中的聚合者：[13, 11, 34, 50, 14, 82, 41]
___Test Target_Simple poisoned: False, epoch: 26: Average loss: 0.0977, Accuracy: 9724/10000 (97.2400%)
___Test Target_Simple poisoned: True, epoch: 26: Average loss: 9.7801, Accuracy: 52/8968 (0.5798%)
Done in 280.43144059181213 sec.
Server Epoch:27 choose agents : [41, 73, 51, 74, 55, 58, 53, 14, 36, 6].
poison local model 41 index 0 
poison_now
Current lr: [0.05]
___PoisonTrain Local_Simple ,  epoch  27, local model 41, internal_epoch   1,  Average loss: 0.0168, Accuracy: 399/606 (65.8416%), train_poison_data_count: 200
Current lr: [0.0005000000000000001]
___PoisonTrain Local_Simple ,  epoch  27, local model 41, internal_epoch   2,  Average loss: 0.0117, Accuracy: 386/606 (63.6964%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  27, local model 41, internal_epoch   3,  Average loss: 0.0116, Accuracy: 339/606 (55.9406%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  27, local model 41, internal_epoch   4,  Average loss: 0.0104, Accuracy: 438/606 (72.2772%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  27, local model 41, internal_epoch   5,  Average loss: 0.0107, Accuracy: 419/606 (69.1419%), train_poison_data_count: 200
Current lr: [0.005000000000000001]
___PoisonTrain Local_Simple ,  epoch  27, local model 41, internal_epoch   6,  Average loss: 0.0102, Accuracy: 424/606 (69.9670%), train_poison_data_count: 200
